      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="I18N::LangTags - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>I18N::LangTags - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/I18N/LangTags.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.12.4/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.12.4/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.12.4/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.12.4/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.12.4/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.4/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.4/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../index-modules-I.html">Core modules (I)</a> &gt;
      
    
    I18N::LangTags
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 12.4
                        documentation</h7>
                    </div>
                    <h1>I18N::LangTags</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#ABOUT-LOWERCASING">ABOUT LOWERCASING</a></li><li><a href="#ABOUT-UNICODE-PLAINTEXT-LANGUAGE-TAGS">ABOUT UNICODE PLAINTEXT LANGUAGE TAGS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>I18N::LangTags - functions for dealing with RFC3066-style language tags</p>
<a class='view-head1' id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="i">I18N::LangTags</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>...or specify whichever of those functions you want to import, like so:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">I18N::LangTags</span> <span class="q">qw(implicate_supers similarity_language_tag)</span><span class="sc">;</span></li></ol></pre><p>All the exportable functions are listed below -- you're free to import
only some, or none at all.  By default, none are imported.  If you
say:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">I18N::LangTags</span> <span class="q">qw(:ALL)</span></li></ol></pre><p>...then all are exported.  (This saves you from having to use
something less obvious like <code class="inline"><a class="l_k" href="../functions/use.html">use</a> <span class="w">I18N::LangTags</span> <span class="q">qw(/./)</span></code>
.)</p>
<p>If you don't import any of these functions, assume a <code class="inline"><span class="i">&amp;I18N::LangTags::</span></code>

in front of all the function names in the following examples.</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>Language tags are a formalism, described in RFC 3066 (obsoleting
1766), for declaring what language form (language and possibly
dialect) a given chunk of information is in.</p>
<p>This library provides functions for common tasks involving language
tags as they are needed in a variety of protocols and applications.</p>
<p>Please see the "See Also" references for a thorough explanation
of how to correctly use language tags.</p>
<ul>
<li><a class='view-title' id="*-the-function-is_language_tag(%24lang1)"></a><strong>the function is_language_tag($lang1)</strong>
<p>Returns true iff $lang1 is a formally valid language tag.</p>
<pre class="verbatim"><ol><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;fr&quot;</span><span class="s">)</span>            <span class="w">is</span> <span class="w">TRUE</span></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;x-jicarilla&quot;</span><span class="s">)</span>   <span class="w">is</span> <span class="i">FALSE</span></li><li>       <span class="s">(</span><span class="w">Subtags</span> <span class="w">can</span> <span class="w">be</span> <span class="n">8</span> <span class="w">chars</span> <span class="w">long</span> <span class="w">at</span> <span class="w">most</span> -- <span class="q">&#39;jicarilla&#39;</span> <span class="w">is</span> <span class="n">9</span><span class="s">)</span></li><li></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;sgn-US&quot;</span><span class="s">)</span>    <span class="w">is</span> <span class="i">TRUE</span></li><li>       <span class="s">(</span><span class="w">That&#39;s</span> <span class="w">American</span> <span class="w">Sign</span> <span class="w">Language</span><span class="s">)</span></li><li></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;i-Klikitat&quot;</span><span class="s">)</span>    <span class="w">is</span> <span class="i">TRUE</span></li><li>       <span class="s">(</span><span class="w">True</span> <span class="w">without</span> <span class="w">regard</span> <span class="w">to</span> <span class="w">the</span> <span class="w">fact</span> <span class="w">noone</span> <span class="w">has</span> <span class="w">actually</span></li><li>        <span class="w">registered</span> <span class="w">Klikitat</span> -- <span class="w">it&#39;s</span> <span class="w">a</span> <span class="w">formally</span> <span class="w">valid</span> <span class="w">tag</span><span class="s">)</span></li><li></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;fr-patois&quot;</span><span class="s">)</span>     <span class="w">is</span> <span class="i">TRUE</span></li><li>       <span class="s">(</span><span class="w">Formally</span> <span class="w">valid</span> -- <span class="w">altho</span> <span class="w">descriptively</span> <span class="w">weak</span>!<span class="s">)</span></li><li></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;Spanish&quot;</span><span class="s">)</span>       <span class="w">is</span> <span class="w">FALSE</span></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;french-patois&quot;</span><span class="s">)</span> <span class="w">is</span> <span class="i">FALSE</span></li><li>       <span class="s">(</span><span class="w">No</span> <span class="w">good</span> -- <span class="w">first</span> <span class="w">subtag</span> <span class="w">has</span> <span class="w">to</span> <span class="w">match</span></li><li>        <span class="q">/^([xXiI]|[a-zA-Z]{2,3})$/</span> -- <span class="w">see</span> <span class="w">RFC3066</span><span class="s">)</span></li><li></li><li>   <span class="i">is_language_tag</span><span class="s">(</span><span class="q">&quot;x-borg-prot2532&quot;</span><span class="s">)</span> <span class="w">is</span> <span class="i">TRUE</span></li><li>       <span class="s">(</span><span class="w">Yes</span><span class="cm">,</span> <span class="w">subtags</span> <span class="w">can</span> <span class="w">contain</span> <span class="w">digits</span><span class="cm">,</span> <span class="w">as</span> <span class="w">of</span> <span class="w">RFC3066</span><span class="s">)</span></li></ol></pre></li>
<li><a class='view-title' id="*-the-function-extract_language_tags(%24whatever)"></a><strong>the function extract_language_tags($whatever)</strong>
<p>Returns a list of whatever looks like formally valid language tags
in $whatever.  Not very smart, so don't get too creative with
what you want to feed it.</p>
<pre class="verbatim"><ol><li>  <span class="i">extract_language_tags</span><span class="s">(</span><span class="q">&quot;fr, fr-ca, i-mingo&quot;</span><span class="s">)</span></li><li>    <span class="w">returns</span><span class="co">:</span>   <span class="s">(</span><span class="q">&#39;fr&#39;</span><span class="cm">,</span> <span class="q">&#39;fr-ca&#39;</span><span class="cm">,</span> <span class="q">&#39;i-mingo&#39;</span><span class="s">)</span></li><li></li><li>  <span class="i">extract_language_tags</span><span class="s">(</span><span class="q">&quot;It&#39;s like this: I&#39;m in fr -- French!&quot;</span><span class="s">)</span></li><li>    <span class="w">returns</span><span class="co">:</span>   <span class="s">(</span><span class="q">&#39;It&#39;</span><span class="cm">,</span> <span class="q">&#39;in&#39;</span><span class="cm">,</span> <span class="q">&#39;fr&#39;</span><span class="s">)</span></li><li>  <span class="s">(</span><span class="w">So</span> <span class="w">don&#39;t</span> <span class="w">just</span> <span class="w">feed</span> <span class="w">it</span> <span class="w">any</span> <span class="w">old</span> <span class="w">thing</span>.<span class="s">)</span></li></ol></pre><p>The output is untainted.  If you don't know what tainting is,
don't worry about it.</p>
</li>
<li><a class='view-title' id="*-the-function-same_language_tag(%24lang1%2c-%24lang2)"></a><strong>the function same_language_tag($lang1, $lang2)</strong>
<p>Returns true iff $lang1 and $lang2 are acceptable variant tags
representing the same language-form.</p>
<pre class="verbatim"><ol><li>   <span class="i">same_language_tag</span><span class="s">(</span><span class="q">&#39;x-kadara&#39;</span><span class="cm">,</span> <span class="q">&#39;i-kadara&#39;</span><span class="s">)</span>  <span class="w">is</span> <span class="i">TRUE</span></li><li>      <span class="s">(</span><span class="w">The</span> <span class="w">x</span>/<span class="w">i</span>- <span class="w">alternation</span> <span class="w">doesn&#39;t</span> <span class="w">matter</span><span class="s">)</span></li><li>   <span class="i">same_language_tag</span><span class="s">(</span><span class="q">&#39;X-KADARA&#39;</span><span class="cm">,</span> <span class="q">&#39;i-kadara&#39;</span><span class="s">)</span>  <span class="w">is</span> <span class="i">TRUE</span></li><li>      <span class="s">(</span>...and <span class="w">neither</span> <span class="w">does</span> case<span class="s">)</span></li><li>   <span class="i">same_language_tag</span><span class="s">(</span><span class="q">&#39;en&#39;</span><span class="cm">,</span>       <span class="q">&#39;en-US&#39;</span><span class="s">)</span>     <span class="w">is</span> <span class="i">FALSE</span></li><li>      <span class="s">(</span><span class="w">all</span>-<span class="w">English</span> <span class="w">is</span> not <span class="w">the</span> <span class="w">SAME</span> <span class="w">as</span> <span class="w">US</span> <span class="w">English</span><span class="s">)</span></li><li>   <span class="i">same_language_tag</span><span class="s">(</span><span class="q">&#39;x-kadara&#39;</span><span class="cm">,</span> <span class="q">&#39;x-kadar&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="i">FALSE</span></li><li>      <span class="s">(</span><span class="w">these</span> <span class="w">are</span> <span class="w">totally</span> <span class="w">unrelated</span> <span class="w">tags</span><span class="s">)</span></li><li>   <span class="i">same_language_tag</span><span class="s">(</span><span class="q">&#39;no-bok&#39;</span><span class="cm">,</span>    <span class="q">&#39;nb&#39;</span><span class="s">)</span>       <span class="w">is</span> <span class="i">TRUE</span></li><li>      <span class="s">(</span><a class="l_k" href="../functions/no.html">no</a>-<span class="w">bok</span> <span class="w">is</span> <span class="w">a</span> <span class="w">legacy</span> <span class="w">tag</span> for <span class="w">nb</span> <span class="s">(</span><span class="w">Norwegian</span> <span class="w">Bokmal</span><span class="s">)</span><span class="s">)</span></li></ol></pre><p><code class="inline"><span class="w">same_language_tag</span></code>
 works by just seeing whether
<code class="inline"><span class="i">encode_language_tag</span><span class="s">(</span><span class="i">$lang1</span><span class="s">)</span></code>
 is the same as
<code class="inline"><span class="i">encode_language_tag</span><span class="s">(</span><span class="i">$lang2</span><span class="s">)</span></code>
.</p>
<p>(Yes, I know this function is named a bit oddly.  Call it historic
reasons.)</p>
</li>
<li><a class='view-title' id="*-the-function-similarity_language_tag(%24lang1%2c-%24lang2)"></a><strong>the function similarity_language_tag($lang1, $lang2)</strong>
<p>Returns an integer representing the degree of similarity between
tags $lang1 and $lang2 (the order of which does not matter), where
similarity is the number of common elements on the left,
without regard to case and to x/i- alternation.</p>
<pre class="verbatim"><ol><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;fr&#39;</span><span class="cm">,</span> <span class="q">&#39;fr-ca&#39;</span><span class="s">)</span>           <span class="w">is</span> <span class="n">1</span></li><li>      <span class="s">(</span><span class="w">one</span> <span class="w">element</span> <span class="w">in</span> <span class="w">common</span><span class="s">)</span></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;fr-ca&#39;</span><span class="cm">,</span> <span class="q">&#39;fr-FR&#39;</span><span class="s">)</span>        <span class="w">is</span> <span class="n">1</span></li><li>      <span class="s">(</span><span class="w">one</span> <span class="w">element</span> <span class="w">in</span> <span class="w">common</span><span class="s">)</span></li><li></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;fr-CA-joual&#39;</span><span class="cm">,</span></li><li>                           <span class="q">&#39;fr-CA-PEI&#39;</span><span class="s">)</span>             <span class="w">is</span> <span class="n">2</span></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;fr-CA-joual&#39;</span><span class="cm">,</span> <span class="q">&#39;fr-CA&#39;</span><span class="s">)</span>  <span class="w">is</span> <span class="n">2</span></li><li>      <span class="s">(</span><span class="w">two</span> <span class="w">elements</span> <span class="w">in</span> <span class="w">common</span><span class="s">)</span></li><li></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;x-kadara&#39;</span><span class="cm">,</span> <span class="q">&#39;i-kadara&#39;</span><span class="s">)</span>  <span class="w">is</span> <span class="n">1</span></li><li>      <span class="s">(</span><span class="w">x</span>/<span class="w">i</span>- <span class="w">doesn&#39;t</span> <span class="w">matter</span><span class="s">)</span></li><li></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;en&#39;</span><span class="cm">,</span>       <span class="q">&#39;x-kadar&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="n">0</span></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;x-kadara&#39;</span><span class="cm">,</span> <span class="q">&#39;x-kadar&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="n">0</span></li><li>      <span class="s">(</span><span class="w">unrelated</span> <span class="w">tags</span> -- <a class="l_k" href="../functions/no.html">no</a> <span class="w">similarity</span><span class="s">)</span></li><li></li><li>   <span class="i">similarity_language_tag</span><span class="s">(</span><span class="q">&#39;i-cree-syllabic&#39;</span><span class="cm">,</span></li><li>                           <span class="q">&#39;i-cherokee-syllabic&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="n">0</span></li><li>      <span class="s">(</span><a class="l_k" href="../functions/no.html">no</a> <span class="w">B</span><span class="q">&lt;leftmost&gt;</span> <span class="w">elements</span> <span class="w">in</span> <span class="w">common</span>!<span class="s">)</span></li></ol></pre></li>
<li><a class='view-title' id="*-the-function-is_dialect_of(%24lang1%2c-%24lang2)"></a><strong>the function is_dialect_of($lang1, $lang2)</strong>
<p>Returns true iff language tag $lang1 represents a subform of
language tag $lang2.</p>
<p><strong>Get the order right!  It doesn't work the other way around!</strong></p>
<pre class="verbatim"><ol><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;en-US&#39;</span><span class="cm">,</span> <span class="q">&#39;en&#39;</span><span class="s">)</span>            <span class="w">is</span> <span class="i">TRUE</span></li><li>     <span class="s">(</span><span class="w">American</span> <span class="w">English</span> <span class="w">IS</span> <span class="w">a</span> <span class="w">dialect</span> <span class="w">of</span> <span class="w">all</span>-<span class="w">English</span><span class="s">)</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;fr-CA-joual&#39;</span><span class="cm">,</span> <span class="q">&#39;fr-CA&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="w">TRUE</span></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;fr-CA-joual&#39;</span><span class="cm">,</span> <span class="q">&#39;fr&#39;</span><span class="s">)</span>      <span class="w">is</span> <span class="i">TRUE</span></li><li>     <span class="s">(</span><span class="w">Joual</span> <span class="w">is</span> <span class="w">a</span> <span class="w">dialect</span> <span class="w">of</span> <span class="s">(</span><span class="w">a</span> <span class="w">dialect</span> <span class="w">of</span><span class="s">)</span> <span class="w">French</span><span class="s">)</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;en&#39;</span><span class="cm">,</span> <span class="q">&#39;en-US&#39;</span><span class="s">)</span>            <span class="w">is</span> <span class="i">FALSE</span></li><li>     <span class="s">(</span><span class="w">all</span>-<span class="w">English</span> <span class="w">is</span> <span class="w">a</span> <span class="w">NOT</span> <span class="w">dialect</span> <span class="w">of</span> <span class="w">American</span> <span class="w">English</span><span class="s">)</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;fr&#39;</span><span class="cm">,</span> <span class="q">&#39;en-CA&#39;</span><span class="s">)</span>            <span class="w">is</span> <span class="w">FALSE</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;en&#39;</span><span class="cm">,</span>    <span class="q">&#39;en&#39;</span>   <span class="s">)</span>         <span class="w">is</span> <span class="w">TRUE</span></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;en-US&#39;</span><span class="cm">,</span> <span class="q">&#39;en-US&#39;</span><span class="s">)</span>         <span class="w">is</span> <span class="i">TRUE</span></li><li>     <span class="s">(</span><span class="w">B</span><span class="q">&lt;Note:&gt;</span> <span class="w">these</span> <span class="w">are</span> <span class="w">degenerate</span> <span class="w">cases</span><span class="s">)</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;i-mingo-tom&#39;</span><span class="cm">,</span> <span class="q">&#39;x-Mingo&#39;</span><span class="s">)</span> <span class="w">is</span> <span class="i">TRUE</span></li><li>     <span class="s">(</span><span class="w">the</span> <span class="w">x</span>/<span class="w">i</span> <span class="w">thing</span> <span class="w">doesn&#39;t</span> <span class="w">matter</span><span class="cm">,</span> <span class="w">nor</span> <span class="w">does</span> case<span class="s">)</span></li><li></li><li>   <span class="i">is_dialect_of</span><span class="s">(</span><span class="q">&#39;nn&#39;</span><span class="cm">,</span> <span class="q">&#39;no&#39;</span><span class="s">)</span>               <span class="w">is</span> <span class="i">TRUE</span></li><li>     <span class="s">(</span><span class="w">because</span> <span class="q">&#39;nn&#39;</span> <span class="s">(</span><span class="w">New</span> <span class="w">Norse</span><span class="s">)</span> <span class="w">is</span> <span class="w">aliased</span> <span class="w">to</span> <span class="q">&#39;no-nyn&#39;</span><span class="cm">,</span></li><li>      <span class="w">as</span> <span class="w">a</span> <span class="w">special</span> <span class="w">legacy</span> case<span class="cm">,</span> and <span class="q">&#39;no-nyn&#39;</span> <span class="w">is</span> <span class="w">a</span></li><li>      <span class="w">subform</span> <span class="w">of</span> <span class="q">&#39;no&#39;</span> <span class="s">(</span><span class="w">Norwegian</span><span class="s">)</span><span class="s">)</span></li></ol></pre></li>
<li><a class='view-title' id="*-the-function-super_languages(%24lang1)"></a><strong>the function super_languages($lang1)</strong>
<p>Returns a list of language tags that are superordinate tags to $lang1
-- it gets this by removing subtags from the end of $lang1 until
nothing (or just "i" or "x") is left.</p>
<pre class="verbatim"><ol><li>   <span class="i">super_languages</span><span class="s">(</span><span class="q">&quot;fr-CA-joual&quot;</span><span class="s">)</span>  <span class="w">is</span>  <span class="s">(</span><span class="q">&quot;fr-CA&quot;</span><span class="cm">,</span> <span class="q">&quot;fr&quot;</span><span class="s">)</span></li><li></li><li>   <span class="i">super_languages</span><span class="s">(</span><span class="q">&quot;en-AU&quot;</span><span class="s">)</span>  <span class="w">is</span>  <span class="s">(</span><span class="q">&quot;en&quot;</span><span class="s">)</span></li><li></li><li>   <span class="i">super_languages</span><span class="s">(</span><span class="q">&quot;en&quot;</span><span class="s">)</span>  <span class="w">is</span>  <span class="w">empty</span>-<span class="w">list</span><span class="cm">,</span> <span class="s">(</span><span class="s">)</span></li><li></li><li>   <span class="i">super_languages</span><span class="s">(</span><span class="q">&quot;i-cherokee&quot;</span><span class="s">)</span>  <span class="w">is</span>  <span class="w">empty</span>-<span class="w">list</span><span class="cm">,</span> <span class="s">(</span><span class="s">)</span></li><li>    ...not <span class="s">(</span><span class="q">&quot;i&quot;</span><span class="s">)</span><span class="cm">,</span> <span class="w">which</span> <span class="w">would</span> <span class="w">be</span> <span class="w">illegal</span> <span class="w">as</span> <span class="w">well</span> <span class="w">as</span> <span class="w">pointless</span>.</li></ol></pre><p>If $lang1 is not a valid language tag, returns empty-list in
a list context, undef in a scalar context.</p>
<p>A notable and rather unavoidable problem with this method:
"x-mingo-tom" has an "x" because the whole tag isn't an
IANA-registered tag -- but super_languages('x-mingo-tom') is
('x-mingo') -- which isn't really right, since 'i-mingo' is
registered.  But this module has no way of knowing that.  (But note
that same_language_tag('x-mingo', 'i-mingo') is TRUE.)</p>
<p>More importantly, you assume <i>at your peril</i> that superordinates of
$lang1 are mutually intelligible with $lang1.  Consider this
carefully.</p>
</li>
<li><a class='view-title' id="*-the-function-locale2language_tag(%24locale_identifier)"></a><strong>the function locale2language_tag($locale_identifier)</strong>
<p>This takes a locale name (like "en", "en_US", or "en_US.ISO8859-1")
and maps it to a language tag.  If it's not mappable (as with,
notably, "C" and "POSIX"), this returns empty-list in a list context,
or undef in a scalar context.</p>
<pre class="verbatim"><ol><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;en&quot;</span><span class="s">)</span> <span class="w">is</span> <span class="q">&quot;en&quot;</span></li><li></li><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;en_US&quot;</span><span class="s">)</span> <span class="w">is</span> <span class="q">&quot;en-US&quot;</span></li><li></li><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;en_US.ISO8859-1&quot;</span><span class="s">)</span> <span class="w">is</span> <span class="q">&quot;en-US&quot;</span></li><li></li><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;C&quot;</span><span class="s">)</span> <span class="w">is</span> <a class="l_k" href="../functions/undef.html">undef</a> or <span class="s">(</span><span class="s">)</span></li><li></li><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;POSIX&quot;</span><span class="s">)</span> <span class="w">is</span> <a class="l_k" href="../functions/undef.html">undef</a> or <span class="s">(</span><span class="s">)</span></li><li></li><li>   <span class="i">locale2language_tag</span><span class="s">(</span><span class="q">&quot;POSIX&quot;</span><span class="s">)</span> <span class="w">is</span> <a class="l_k" href="../functions/undef.html">undef</a> or <span class="s">(</span><span class="s">)</span></li></ol></pre><p>I'm not totally sure that locale names map satisfactorily to language
tags.  Think REAL hard about how you use this.  YOU HAVE BEEN WARNED.</p>
<p>The output is untainted.  If you don't know what tainting is,
don't worry about it.</p>
</li>
<li><a class='view-title' id="*-the-function-encode_language_tag(%24lang1)"></a><strong>the function encode_language_tag($lang1)</strong>
<p>This function, if given a language tag, returns an encoding of it such
that:</p>
<p>* tags representing different languages never get the same encoding.</p>
<p>* tags representing the same language always get the same encoding.</p>
<p>* an encoding of a formally valid language tag always is a string
value that is defined, has length, and is true if considered as a
boolean.</p>
<p>Note that the encoding itself is <strong>not</strong> a formally valid language tag.
Note also that you cannot, currently, go from an encoding back to a
language tag that it's an encoding of.</p>
<p>Note also that you <strong>must</strong> consider the encoded value as atomic; i.e.,
you should not consider it as anything but an opaque, unanalysable
string value.  (The internals of the encoding method may change in
future versions, as the language tagging standard changes over time.)</p>
<p><code class="inline"><span class="w">encode_language_tag</span></code>
 returns undef if given anything other than a
formally valid language tag.</p>
<p>The reason <code class="inline"><span class="w">encode_language_tag</span></code>
 exists is because different language
tags may represent the same language; this is normally treatable with
<code class="inline"><span class="w">same_language_tag</span></code>
, but consider this situation:</p>
<p>You have a data file that expresses greetings in different languages.
Its format is "[language tag]=[how to say 'Hello']", like:</p>
<pre class="verbatim"><ol><li>          <span class="w">en</span>-<span class="w">US</span>=<span class="w">Hiho</span></li><li>          <span class="w">fr</span>=<span class="w">Bonjour</span></li><li>          <span class="w">i</span>-<span class="w">mingo</span>=<span class="w">Hau</span><span class="q">&#39;</span></li></ol></pre><p>And suppose you write a program that reads that file and then runs as
a daemon, answering client requests that specify a language tag and
then expect the string that says how to greet in that language.  So an
interaction looks like:</p>
<pre class="verbatim"><ol><li>          <span class="w">greeting</span>-<span class="w">client</span> <span class="w">asks</span><span class="co">:</span>    <span class="w">fr</span></li><li>          <span class="w">greeting</span>-<span class="w">server</span> <span class="w">answers</span><span class="co">:</span> <span class="w">Bonjour</span></li></ol></pre><p>So far so good.  But suppose the way you're implementing this is:</p>
<pre class="verbatim"><ol><li>          <a class="l_k" href="../functions/my.html">my</a> <span class="i">%greetings</span><span class="sc">;</span></li><li>          <a class="l_k" href="../functions/die.html">die</a> unless <a class="l_k" href="../functions/open.html">open</a><span class="s">(</span><span class="w">IN</span><span class="cm">,</span> <span class="q">&quot;&lt;in.dat&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>          while<span class="s">(</span><span class="q">&lt;IN&gt;</span><span class="s">)</span> <span class="s">{</span></li><li>            <a class="l_k" href="../functions/chomp.html">chomp</a><span class="sc">;</span></li><li>            <a class="l_k" href="../functions/next.html">next</a> unless <span class="q">/^([^=]+)=(.+)/s</span><span class="sc">;</span></li><li>            <a class="l_k" href="../functions/my.html">my</a><span class="s">(</span><span class="i">$lang</span><span class="cm">,</span> <span class="i">$expr</span><span class="s">)</span> = <span class="s">(</span><span class="i">$1</span><span class="cm">,</span> <span class="i">$2</span><span class="s">)</span><span class="sc">;</span></li><li>            <span class="i">$greetings</span>{<span class="i">$lang</span>} = <span class="i">$expr</span><span class="sc">;</span></li><li>          <span class="s">}</span></li><li>          <a class="l_k" href="../functions/close.html">close</a><span class="s">(</span><span class="w">IN</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>at which point %greetings has the contents:</p>
<pre class="verbatim"><ol><li>          <span class="q">&quot;en-US&quot;</span>   <span class="cm">=&gt;</span> <span class="q">&quot;Hiho&quot;</span></li><li>          <span class="q">&quot;fr&quot;</span>      <span class="cm">=&gt;</span> <span class="q">&quot;Bonjour&quot;</span></li><li>          <span class="q">&quot;i-mingo&quot;</span> <span class="cm">=&gt;</span> <span class="q">&quot;Hau&#39;&quot;</span></li></ol></pre><p>And suppose then that you answer client requests for language $wanted
by just looking up $greetings{$wanted}.</p>
<p>If the client asks for "fr", that will look up successfully in
%greetings, to the value "Bonjour".  And if the client asks for
"i-mingo", that will look up successfully in %greetings, to the value
"Hau'".</p>
<p>But if the client asks for "i-Mingo" or "x-mingo", or "Fr", then the
lookup in %greetings fails.  That's the Wrong Thing.</p>
<p>You could instead do lookups on $wanted with:</p>
<pre class="verbatim"><ol><li>          <a class="l_k" href="../functions/use.html">use</a> <span class="w">I18N::LangTags</span> <span class="q">qw(same_language_tag)</span><span class="sc">;</span></li><li>          <a class="l_k" href="../functions/my.html">my</a> <span class="i">$response</span> = <span class="q">&#39;&#39;</span><span class="sc">;</span></li><li>          foreach <a class="l_k" href="../functions/my.html">my</a> <span class="i">$l2</span> <span class="s">(</span><a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%greetings</span><span class="s">)</span> <span class="s">{</span></li><li>            if<span class="s">(</span><span class="i">same_language_tag</span><span class="s">(</span><span class="i">$wanted</span><span class="cm">,</span> <span class="i">$l2</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span></li><li>              <span class="i">$response</span> = <span class="i">$greetings</span>{<span class="i">$l2</span>}<span class="sc">;</span></li><li>              <a class="l_k" href="../functions/last.html">last</a><span class="sc">;</span></li><li>            <span class="s">}</span></li><li>          <span class="s">}</span></li></ol></pre><p>But that's rather inefficient.  A better way to do it is to start your
program with:</p>
<pre class="verbatim"><ol><li>          <a class="l_k" href="../functions/use.html">use</a> <span class="w">I18N::LangTags</span> <span class="q">qw(encode_language_tag)</span><span class="sc">;</span></li><li>          <a class="l_k" href="../functions/my.html">my</a> <span class="i">%greetings</span><span class="sc">;</span></li><li>          <a class="l_k" href="../functions/die.html">die</a> unless <a class="l_k" href="../functions/open.html">open</a><span class="s">(</span><span class="w">IN</span><span class="cm">,</span> <span class="q">&quot;&lt;in.dat&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>          while<span class="s">(</span><span class="q">&lt;IN&gt;</span><span class="s">)</span> <span class="s">{</span></li><li>            <a class="l_k" href="../functions/chomp.html">chomp</a><span class="sc">;</span></li><li>            <a class="l_k" href="../functions/next.html">next</a> unless <span class="q">/^([^=]+)=(.+)/s</span><span class="sc">;</span></li><li>            <a class="l_k" href="../functions/my.html">my</a><span class="s">(</span><span class="i">$lang</span><span class="cm">,</span> <span class="i">$expr</span><span class="s">)</span> = <span class="s">(</span><span class="i">$1</span><span class="cm">,</span> <span class="i">$2</span><span class="s">)</span><span class="sc">;</span></li><li>            <span class="i">$greetings</span>{</li><li>                        <span class="i">encode_language_tag</span><span class="s">(</span><span class="i">$lang</span><span class="s">)</span></li><li>                      } = <span class="i">$expr</span><span class="sc">;</span></li><li>          <span class="s">}</span></li><li>          <a class="l_k" href="../functions/close.html">close</a><span class="s">(</span><span class="w">IN</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>and then just answer client requests for language $wanted by just
looking up</p>
<pre class="verbatim"><ol><li>          <span class="i">$greetings</span>{<span class="i">encode_language_tag</span><span class="s">(</span><span class="i">$wanted</span><span class="s">)</span>}</li></ol></pre><p>And that does the Right Thing.</p>
</li>
<li><a class='view-title' id="*-the-function-alternate_language_tags(%24lang1)"></a><strong>the function alternate_language_tags($lang1)</strong>
<p>This function, if given a language tag, returns all language tags that
are alternate forms of this language tag.  (I.e., tags which refer to
the same language.)  This is meant to handle legacy tags caused by
the minor changes in language tag standards over the years; and
the x-/i- alternation is also dealt with.</p>
<p>Note that this function does <i>not</i> try to equate new (and never-used,
and unusable)
ISO639-2 three-letter tags to old (and still in use) ISO639-1
two-letter equivalents -- like "ara" -&gt; "ar" -- because
"ara" has <i>never</i> been in use as an Internet language tag,
and RFC 3066 stipulates that it never should be, since a shorter
tag ("ar") exists.</p>
<p>Examples:</p>
<pre class="verbatim"><ol><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;no-bok&#39;</span><span class="s">)</span>       <span class="w">is</span> <span class="s">(</span><span class="q">&#39;nb&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;nb&#39;</span><span class="s">)</span>           <span class="w">is</span> <span class="s">(</span><span class="q">&#39;no-bok&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;he&#39;</span><span class="s">)</span>           <span class="w">is</span> <span class="s">(</span><span class="q">&#39;iw&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;iw&#39;</span><span class="s">)</span>           <span class="w">is</span> <span class="s">(</span><span class="q">&#39;he&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;i-hakka&#39;</span><span class="s">)</span>      <span class="w">is</span> <span class="s">(</span><span class="q">&#39;zh-hakka&#39;</span><span class="cm">,</span> <span class="q">&#39;x-hakka&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;zh-hakka&#39;</span><span class="s">)</span>     <span class="w">is</span> <span class="s">(</span><span class="q">&#39;i-hakka&#39;</span><span class="cm">,</span> <span class="q">&#39;x-hakka&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;en&#39;</span><span class="s">)</span>           <span class="w">is</span> <span class="s">(</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;x-mingo-tom&#39;</span><span class="s">)</span>  <span class="w">is</span> <span class="s">(</span><span class="q">&#39;i-mingo-tom&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;x-klikitat&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="s">(</span><span class="q">&#39;i-klikitat&#39;</span><span class="s">)</span></li><li>          <span class="i">alternate_language_tags</span><span class="s">(</span><span class="q">&#39;i-klikitat&#39;</span><span class="s">)</span>   <span class="w">is</span> <span class="s">(</span><span class="q">&#39;x-klikitat&#39;</span><span class="s">)</span></li></ol></pre><p>This function returns empty-list if given anything other than a formally
valid language tag.</p>
</li>
<li><a class='view-title' id="*-the-function-%40langs-%3d-panic_languages(%40accept_languages)"></a><strong>the function @langs = panic_languages(@accept_languages)</strong>
<p>This function takes a list of 0 or more language
tags that constitute a given user's Accept-Language list, and
returns a list of tags for <i>other</i> (non-super)
languages that are probably acceptable to the user, to be
used <i>if all else fails</i>.</p>
<p>For example, if a user accepts only 'ca' (Catalan) and
'es' (Spanish), and the documents/interfaces you have
available are just in German, Italian, and Chinese, then
the user will most likely want the Italian one (and not
the Chinese or German one!), instead of getting
nothing.  So <code class="inline"><span class="i">panic_languages</span><span class="s">(</span><span class="q">&#39;ca&#39;</span><span class="cm">,</span> <span class="q">&#39;es&#39;</span><span class="s">)</span></code>
 returns
a list containing 'it' (Italian).</p>
<p>English ('en') is <i>always</i> in the return list, but
whether it's at the very end or not depends
on the input languages.  This function works by consulting
an internal table that stipulates what common
languages are "close" to each other.</p>
<p>A useful construct you might consider using is:</p>
<pre class="verbatim"><ol><li>  <span class="i">@fallbacks</span> = <span class="i">super_languages</span><span class="s">(</span><span class="i">@accept_languages</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/push.html">push</a> <span class="i">@fallbacks</span><span class="cm">,</span> <span class="i">panic_languages</span><span class="s">(</span></li><li>    <span class="i">@accept_languages</span><span class="cm">,</span> <span class="i">@fallbacks</span><span class="cm">,</span></li><li>  <span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a class='view-title' id="*-the-function-implicate_supers(-...languages...-)"></a><strong>the function implicate_supers( ...languages... )</strong>
<p>This takes a list of strings (which are presumed to be language-tags;
strings that aren't, are ignored); and after each one, this function
inserts super-ordinate forms that don't already appear in the list.
The original list, plus these insertions, is returned.</p>
<p>In other words, it takes this:</p>
<pre class="verbatim"><ol><li>  <span class="w">pt</span>-<span class="w">br</span> <span class="w">de</span>-<span class="w">DE</span> <span class="w">en</span>-<span class="w">US</span> <span class="w">fr</span> <span class="w">pt</span>-<span class="w">br</span>-<span class="w">janeiro</span></li></ol></pre><p>and returns this:</p>
<pre class="verbatim"><ol><li>  <span class="w">pt</span>-<span class="w">br</span> <span class="w">pt</span> <span class="w">de</span>-<span class="w">DE</span> <span class="w">de</span> <span class="w">en</span>-<span class="w">US</span> <span class="w">en</span> <span class="w">fr</span> <span class="w">pt</span>-<span class="w">br</span>-<span class="w">janeiro</span></li></ol></pre><p>This function is most useful in the idiom</p>
<pre class="verbatim"><ol><li>  <span class="i">implicate_supers</span><span class="s">(</span> <span class="i">I18N::LangTags::Detect::detect</span><span class="s">(</span><span class="s">)</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>(See <a href="../I18N/LangTags/Detect.html">I18N::LangTags::Detect</a>.)</p>
</li>
<li><a class='view-title' id="*-the-function-implicate_supers_strictly(-...languages...-)"></a><strong>the function implicate_supers_strictly( ...languages... )</strong>
<p>This works like <code class="inline"><span class="w">implicate_supers</span></code>
 except that the implicated
forms are added to the end of the return list.</p>
<p>In other words, implicate_supers_strictly takes a list of strings
(which are presumed to be language-tags; strings that aren't, are
ignored) and after the whole given list, it inserts the super-ordinate forms 
of all given tags, minus any tags that already appear in the input list.</p>
<p>In other words, it takes this:</p>
<pre class="verbatim"><ol><li>  <span class="w">pt</span>-<span class="w">br</span> <span class="w">de</span>-<span class="w">DE</span> <span class="w">en</span>-<span class="w">US</span> <span class="w">fr</span> <span class="w">pt</span>-<span class="w">br</span>-<span class="w">janeiro</span></li></ol></pre><p>and returns this:</p>
<pre class="verbatim"><ol><li>  <span class="w">pt</span>-<span class="w">br</span> <span class="w">de</span>-<span class="w">DE</span> <span class="w">en</span>-<span class="w">US</span> <span class="w">fr</span> <span class="w">pt</span>-<span class="w">br</span>-<span class="w">janeiro</span> <span class="w">pt</span> <span class="w">de</span> <span class="w">en</span></li></ol></pre><p>The reason this function has "_strictly" in its name is that when
you're processing an Accept-Language list according to the RFCs, if
you interpret the RFCs quite strictly, then you would use
implicate_supers_strictly, but for normal use (i.e., common-sense use,
as far as I'm concerned) you'd use implicate_supers.</p>
</li>
</ul>
<a class='view-head1' id="ABOUT-LOWERCASING"></a><h2 class='h2' >ABOUT LOWERCASING</h2>
<p>I've considered making all the above functions that output language
tags return all those tags strictly in lowercase.  Having all your
language tags in lowercase does make some things easier.  But you
might as well just lowercase as you like, or call
<code class="inline"><span class="i">encode_language_tag</span><span class="s">(</span><span class="i">$lang1</span><span class="s">)</span></code>
 where appropriate.</p>
<a class='view-head1' id="ABOUT-UNICODE-PLAINTEXT-LANGUAGE-TAGS"></a><h2 class='h2' >ABOUT UNICODE PLAINTEXT LANGUAGE TAGS</h2>
<p>In some future version of I18N::LangTags, I plan to include support
for RFC2482-style language tags -- which are basically just normal
language tags with their ASCII characters shifted into Plane 14.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>* <a href="../I18N/LangTags/List.html">I18N::LangTags::List</a></p>
<p>* RFC 3066, <code class="inline"><a href="ftp://ftp.isi.edu/in-notes/rfc3066.txt">ftp://ftp.isi.edu/in-notes/rfc3066.txt</a></code>, "Tags for the
Identification of Languages".  (Obsoletes RFC 1766)</p>
<p>* RFC 2277, <code class="inline"><a href="ftp://ftp.isi.edu/in-notes/rfc2277.txt">ftp://ftp.isi.edu/in-notes/rfc2277.txt</a></code>, "IETF Policy on
Character Sets and Languages".</p>
<p>* RFC 2231, <code class="inline"><a href="ftp://ftp.isi.edu/in-notes/rfc2231.txt">ftp://ftp.isi.edu/in-notes/rfc2231.txt</a></code>, "MIME Parameter
Value and Encoded Word Extensions: Character Sets, Languages, and
Continuations".</p>
<p>* RFC 2482, <code class="inline"><a href="ftp://ftp.isi.edu/in-notes/rfc2482.txt">ftp://ftp.isi.edu/in-notes/rfc2482.txt</a></code>, 
"Language Tagging in Unicode Plain Text".</p>
<p>* Locale::Codes, in
<code class="inline"><a href="http://www.perl.com/CPAN/modules/by-module/Locale/">http://www.perl.com/CPAN/modules/by-module/Locale/</a></code></p>
<p>* ISO 639-2, "Codes for the representation of names of languages",
including two-letter and three-letter codes,
<code class="inline"><a href="http://www.loc.gov/standards/iso639-2/langcodes.html">http://www.loc.gov/standards/iso639-2/langcodes.html</a></code></p>
<p>* The IANA list of registered languages (hopefully up-to-date),
<code class="inline"><a href="http://www.iana.org/assignments/language-tags">http://www.iana.org/assignments/language-tags</a></code></p>
<a class='view-head1' id="COPYRIGHT"></a><h2 class='h2' >COPYRIGHT</h2>
<p>Copyright (c) 1998+ Sean M. Burke. All rights reserved.</p>
<p>This library is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>The programs and documentation in this dist are distributed in
the hope that they will be useful, but without any warranty; without
even the implied warranty of merchantability or fitness for a
particular purpose.</p>
<a class='view-head1' id="AUTHOR"></a><h2 class='h2' >AUTHOR</h2>
<p>Sean M. Burke <code class="inline"><span class="w">sburke</span><span class="i">@cpan</span>.<span class="w">org</span></code>
</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#ABOUT-LOWERCASING">ABOUT LOWERCASING</a></li><li><a href="#ABOUT-UNICODE-PLAINTEXT-LANGUAGE-TAGS">ABOUT UNICODE PLAINTEXT LANGUAGE TAGS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.12.4/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.4/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.12.4/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
