      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perl5100delta - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perl5100delta - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perl5100delta.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.18.4/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.18.4/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.18.4/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.18.4/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.18.4/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.18.4/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.18.4/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-history.html">History / Changes</a> &gt;
      
    
    perl5100delta
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 18.4
                        documentation</h7>
                    </div>
                    <h1>perl5100delta</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Core-Enhancements">Core Enhancements</a></li><ul><li><a href="#The-feature-pragma">The feature pragma</a></li><li><a href="#New-*-E*-command-line-switch">New *-E* command-line switch</a></li><li><a href="#Defined-or-operator">Defined-or operator</a></li><li><a href="#Switch-and-Smart-Match-operator">Switch and Smart Match operator</a></li><li><a href="#Regular-expressions">Regular expressions</a></li><li><a href="#say()">say()</a></li><li><a href="#Lexical-%24_">Lexical $_</a></li><li><a href="#The-_-prototype">The _ prototype</a></li><li><a href="#UNITCHECK-blocks">UNITCHECK blocks</a></li><li><a href="#New-Pragma%2c-mro">New Pragma, mro</a></li><li><a href="#readdir()-may-return-a-%22short-filename%22-on-Windows">readdir() may return a "short filename" on Windows</a></li><li><a href="#readpipe()-is-now-overridable">readpipe() is now overridable</a></li><li><a href="#Default-argument-for-readline()">Default argument for readline()</a></li><li><a href="#state()-variables">state() variables</a></li><li><a href="#Stacked-filetest-operators">Stacked filetest operators</a></li><li><a href="#UNIVERSAL%3a%3aDOES()">UNIVERSAL::DOES()</a></li><li><a href="#Formats">Formats</a></li><li><a href="#Byte-order-modifiers-for-pack()-and-unpack()">Byte-order modifiers for pack() and unpack()</a></li><li><a href="#no-VERSION">no VERSION</a></li><li><a href="#chdir%2c-chmod-and-chown-on-filehandles">chdir, chmod and chown on filehandles</a></li><li><a href="#OS-groups">OS groups</a></li><li><a href="#Recursive-sort-subs">Recursive sort subs</a></li><li><a href="#Exceptions-in-constant-folding">Exceptions in constant folding</a></li><li><a href="#Source-filters-in-%40INC">Source filters in @INC</a></li><li><a href="#New-internal-variables">New internal variables</a></li><li><a href="#Miscellaneous">Miscellaneous</a></li><li><a href="#UCD-5.0.0">UCD 5.0.0</a></li><li><a href="#MAD">MAD</a></li><li><a href="#kill()-on-Windows">kill() on Windows</a></li></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a></li><ul><li><a href="#Packing-and-UTF-8-strings">Packing and UTF-8 strings</a></li><li><a href="#Byte%2fcharacter-count-feature-in-unpack()">Byte/character count feature in unpack()</a></li><li><a href="#The-%24*-and-%24%23-variables-have-been-removed">The $* and $# variables have been removed</a></li><li><a href="#substr()-lvalues-are-no-longer-fixed-length">substr() lvalues are no longer fixed-length</a></li><li><a href="#Parsing-of--f-_">Parsing of -f _</a></li><li><a href="#%3aunique">:unique</a></li><li><a href="#Effect-of-pragmas-in-eval">Effect of pragmas in eval</a></li><li><a href="#chdir-FOO">chdir FOO</a></li><li><a href="#Handling-of-.pmc-files">Handling of .pmc files</a></li><li><a href="#%24%5eV-is-now-a-version-object-instead-of-a-v-string">$^V is now a version object instead of a v-string</a></li><li><a href="#%40--and-%40%2b-in-patterns">@- and @+ in patterns</a></li><li><a href="#%24AUTOLOAD-can-now-be-tainted">$AUTOLOAD can now be tainted</a></li><li><a href="#Tainting-and-printf">Tainting and printf</a></li><li><a href="#undef-and-signal-handlers">undef and signal handlers</a></li><li><a href="#strictures-and-dereferencing-in-defined()">strictures and dereferencing in defined()</a></li><li><a href="#(%3fp%7b%7d)-has-been-removed">(?p{}) has been removed</a></li><li><a href="#Pseudo-hashes-have-been-removed">Pseudo-hashes have been removed</a></li><li><a href="#Removal-of-the-bytecode-compiler-and-of-perlcc">Removal of the bytecode compiler and of perlcc</a></li><li><a href="#Removal-of-the-JPL">Removal of the JPL</a></li><li><a href="#Recursive-inheritance-detected-earlier">Recursive inheritance detected earlier</a></li><li><a href="#warnings%3a%3aenabled-and-warnings%3a%3awarnif-changed-to-favor-users-of-modules">warnings::enabled and warnings::warnif changed to favor users of modules</a></li></ul><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a></li><ul><li><a href="#Upgrading-individual-core-modules">Upgrading individual core modules</a></li><li><a href="#Pragmata-Changes">Pragmata Changes</a></li><li><a href="#New-modules">New modules</a></li><li><a href="#Selected-Changes-to-Core-Modules">Selected Changes to Core Modules</a></li></ul><li><a href="#Utility-Changes">Utility Changes</a></li><li><a href="#New-Documentation">New Documentation</a></li><li><a href="#Performance-Enhancements">Performance Enhancements</a></li><ul><li><a href="#In-place-sorting">In-place sorting</a></li><li><a href="#Lexical-array-access">Lexical array access</a></li><li><a href="#XS-assisted-SWASHGET">XS-assisted SWASHGET</a></li><li><a href="#Constant-subroutines">Constant subroutines</a></li><li><a href="#PERL_DONT_CREATE_GVSV">PERL_DONT_CREATE_GVSV</a></li><li><a href="#Weak-references-are-cheaper">Weak references are cheaper</a></li><li><a href="#sort()-enhancements">sort() enhancements</a></li><li><a href="#Memory-optimisations">Memory optimisations</a></li><li><a href="#UTF-8-cache-optimisation">UTF-8 cache optimisation</a></li><li><a href="#Sloppy-stat-on-Windows">Sloppy stat on Windows</a></li><li><a href="#Regular-expressions-optimisations">Regular expressions optimisations</a></li></ul><li><a href="#Installation-and-Configuration-Improvements">Installation and Configuration Improvements</a></li><ul><li><a href="#Configuration-improvements">Configuration improvements</a></li><li><a href="#Compilation-improvements">Compilation improvements</a></li><li><a href="#Installation-improvements">Installation improvements</a></li><li><a href="#New-Or-Improved-Platforms">New Or Improved Platforms</a></li></ul><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a></li><li><a href="#New-or-Changed-Diagnostics">New or Changed Diagnostics</a></li><li><a href="#Changed-Internals">Changed Internals</a></li><ul><li><a href="#Reordering-of-SVt_*-constants">Reordering of SVt_* constants</a></li><li><a href="#Elimination-of-SVt_PVBM">Elimination of SVt_PVBM</a></li><li><a href="#New-type-SVt_BIND">New type SVt_BIND</a></li><li><a href="#Removal-of-CPP-symbols">Removal of CPP symbols</a></li><li><a href="#Less-space-is-used-by-ops">Less space is used by ops</a></li><li><a href="#New-parser">New parser</a></li><li><a href="#Use-of-const">Use of const</a></li><li><a href="#Mathoms">Mathoms</a></li><li><a href="#AvFLAGS-has-been-removed">AvFLAGS has been removed</a></li><li><a href="#av_*-changes">av_* changes</a></li><li><a href="#%24%5eH-and-%25%5eH">$^H and %^H</a></li><li><a href="#B%3a%3a-modules-inheritance-changed">B:: modules inheritance changed</a></li><li><a href="#Anonymous-hash-and-array-constructors">Anonymous hash and array constructors</a></li></ul><li><a href="#Known-Problems">Known Problems</a></li><ul><li><a href="#UTF-8-problems">UTF-8 problems</a></li></ul><li><a href="#Platform-Specific-Problems">Platform Specific Problems</a></li><li><a href="#Reporting-Bugs">Reporting Bugs</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perl5100delta - what is new for perl 5.10.0</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>This document describes the differences between the 5.8.8 release and
the 5.10.0 release.</p>
<p>Many of the bug fixes in 5.10.0 were already seen in the 5.8.X maintenance
releases; they are not duplicated here and are documented in the set of
man pages named perl58[1-8]?delta.</p>
<a class='view-head1' id="Core-Enhancements"></a><h2 class='h2' >Core Enhancements</h2>
<a class='view-head2' id="The-feature-pragma"></a><h3 class='h3' >The <code class="inline"><span class="w">feature</span></code>
 pragma</h3>
<p>The <code class="inline"><span class="w">feature</span></code>
 pragma is used to enable new syntax that would break Perl's
backwards-compatibility with older releases of the language. It's a lexical
pragma, like <code class="inline"><span class="w">strict</span></code>
 or <code class="inline"><span class="w">warnings</span></code>
.</p>
<p>Currently the following new features are available: <code class="inline">switch</code>
 (adds a
switch statement), <code class="inline"><a class="l_k" href="functions/say.html">say</a></code> (adds a <code class="inline"><a class="l_k" href="functions/say.html">say</a></code> built-in function), and <code class="inline"><a class="l_k" href="functions/state.html">state</a></code>
(adds a <code class="inline"><a class="l_k" href="functions/state.html">state</a></code> keyword for declaring "static" variables). Those
features are described in their own sections of this document.</p>
<p>The <code class="inline"><span class="w">feature</span></code>
 pragma is also implicitly loaded when you require a minimal
perl version (with the <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">VERSION</span></code>
 construct) greater than, or equal
to, 5.9.5. See <a href="feature.html">feature</a> for details.</p>
<a class='view-head2' id="New-*-E*-command-line-switch"></a><h3 class='h3' >New <strong>-E</strong> command-line switch</h3>
<p><strong>-E</strong> is equivalent to <strong>-e</strong>, but it implicitly enables all
optional features (like <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;:5.10&quot;</span></code>
).</p>
<a class='view-head2' id="Defined-or-operator"></a><h3 class='h3' >Defined-or operator</h3>
<p>A new operator <code class="inline"><span class="q">//</span></code>
 (defined-or) has been implemented.
The following expression:</p>
<pre class="verbatim"><ol><li>    <span class="i">$a</span> // <span class="i">$b</span></li></ol></pre><p>is merely equivalent to</p>
<pre class="verbatim"><ol><li>   <a class="l_k" href="functions/defined.html">defined</a> <span class="i">$a</span> ? <span class="i">$a</span> <span class="co">:</span> <span class="i">$b</span></li></ol></pre><p>and the statement</p>
<pre class="verbatim"><ol><li>   <span class="i">$c</span> //= <span class="i">$d</span><span class="sc">;</span></li></ol></pre><p>can now be used instead of</p>
<pre class="verbatim"><ol><li>   <span class="i">$c</span> = <span class="i">$d</span> <a class="l_k" href="functions/unless.html">unless</a> <a class="l_k" href="functions/defined.html">defined</a> <span class="i">$c</span><span class="sc">;</span></li></ol></pre><p>The <code class="inline"><span class="q">//</span></code>
 operator has the same precedence and associativity as <code class="inline">||</code>
.
Special care has been taken to ensure that this operator Do What You Mean
while not breaking old code, but some edge cases involving the empty
regular expression may now parse differently.  See <a href="perlop.html">perlop</a> for
details.</p>
<a class='view-head2' id="Switch-and-Smart-Match-operator"></a><h3 class='h3' >Switch and Smart Match operator</h3>
<p>Perl 5 now has a switch statement. It's available when <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span>
<span class="q">&#39;switch&#39;</span></code>
 is in effect. This feature introduces three new keywords,
<code class="inline"><a class="l_k" href="functions/given.html">given</a></code>, <code class="inline"><a class="l_k" href="functions/when.html">when</a></code>, and <code class="inline"><a class="l_k" href="functions/default.html">default</a></code>:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/given.html">given</a> <span class="s">(</span><span class="i">$foo</span><span class="s">)</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/when.html">when</a> <span class="s">(</span><span class="q">/^abc/</span><span class="s">)</span> <span class="s">{</span> <span class="i">$abc</span> = <span class="n">1</span><span class="sc">;</span> <span class="s">}</span></li><li>	<a class="l_k" href="functions/when.html">when</a> <span class="s">(</span><span class="q">/^def/</span><span class="s">)</span> <span class="s">{</span> <span class="i">$def</span> = <span class="n">1</span><span class="sc">;</span> <span class="s">}</span></li><li>	<a class="l_k" href="functions/when.html">when</a> <span class="s">(</span><span class="q">/^xyz/</span><span class="s">)</span> <span class="s">{</span> <span class="i">$xyz</span> = <span class="n">1</span><span class="sc">;</span> <span class="s">}</span></li><li>	<span class="i">default</span> <span class="s">{</span> <span class="i">$nothing</span> = <span class="n">1</span><span class="sc">;</span> <span class="s">}</span></li><li>    <span class="s">}</span></li></ol></pre><p>A more complete description of how Perl matches the switch variable
against the <code class="inline"><a class="l_k" href="functions/when.html">when</a></code> conditions is given in <a href="perlsyn.html#Switch-statements">Switch statements in perlsyn</a>.</p>
<p>This kind of match is called <i>smart match</i>, and it's also possible to use
it outside of switch statements, via the new <code class="inline">~~</code>
 operator. See
<a href="perlsyn.html#Smart-matching-in-detail">Smart matching in detail in perlsyn</a>.</p>
<p>This feature was contributed by Robin Houston.</p>
<a class='view-head2' id="Regular-expressions"></a><h3 class='h3' >Regular expressions</h3>
<ul>
<li><a class='view-title' id="Recursive-Patterns"></a><strong>Recursive Patterns</strong>
<p>It is now possible to write recursive patterns without using the <code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span><span class="s">}</span><span class="s">)</span></code>

construct. This new way is more efficient, and in many cases easier to
read.</p>
<p>Each capturing parenthesis can now be treated as an independent pattern
that can be entered by using the <code class="inline"><span class="s">(</span><span class="q">?PARNO)</span></code>
 syntax (<code class="inline"><span class="w">PARNO</span></code>
 standing for
"parenthesis number"). For example, the following pattern will match
nested balanced angle brackets:</p>
<pre class="verbatim"><ol><li>    <span class="q">/</span></li><li>     <span class="q">     ^                      # start of line</span></li><li>     <span class="q">     (                      # start capture buffer 1</span></li><li>	<span class="q">	&lt;                   #   match an opening angle bracket</span></li><li>	<span class="q">	(?:                 #   match one of:</span></li><li>	    <span class="q">	    (?&gt;             #     don&#39;t backtrack over the inside of this group</span></li><li>	        <span class="q">	        [^&lt;&gt;]+      #       one or more non angle brackets</span></li><li>	    <span class="q">	    )               #     end non backtracking group</span></li><li>	<span class="q">	|                   #     ... or ...</span></li><li>	    <span class="q">	    (?1)            #     recurse to bracket 1 and try it again</span></li><li>	<span class="q">	)*                  #   0 or more times.</span></li><li>	<span class="q">	&gt;                   #   match a closing angle bracket</span></li><li>     <span class="q">     )                      # end capture buffer one</span></li><li>     <span class="q">     $                      # end of line</span></li><li>    <span class="q">    /x</span></li></ol></pre><p>PCRE users should note that Perl's recursive regex feature allows
backtracking into a recursed pattern, whereas in PCRE the recursion is
atomic or "possessive" in nature.  As in the example above, you can
add (?&gt;) to control this selectively.  (Yves Orton)</p>
</li>
<li><a class='view-title' id="Named-Capture-Buffers"></a><strong>Named Capture Buffers</strong>
<p>It is now possible to name capturing parenthesis in a pattern and refer to
the captured contents by name. The naming syntax is <code class="inline"><span class="s">(</span><span class="q">?&lt;NAME&gt;....)</span></code>
.
It's possible to backreference to a named buffer with the <code class="inline">\<span class="w">k</span><span class="q">&lt;NAME&gt;</span></code>

syntax. In code, the new magical hashes <code class="inline"><span class="i">%+</span></code>
 and <code class="inline"><span class="i">%-</span></code>
 can be used to
access the contents of the capture buffers.</p>
<p>Thus, to replace all doubled chars with a single copy, one could write</p>
<pre class="verbatim"><ol><li>    <span class="q">s/(?&lt;letter&gt;.)\k&lt;letter&gt;/$+{letter}/g</span></li></ol></pre><p>Only buffers with defined contents will be "visible" in the <code class="inline"><span class="i">%+</span></code>
 hash, so
it's possible to do something like</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/foreach.html">foreach</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> <span class="s">(</span><a class="l_k" href="functions/keys.html">keys</a> <span class="i">%+</span><span class="s">)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;content of buffer &#39;$name&#39; is $+{$name}\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>The <code class="inline"><span class="i">%-</span></code>
 hash is a bit more complete, since it will contain array refs
holding values from all capture buffers similarly named, if there should
be many of them.</p>
<p><code class="inline"><span class="i">%+</span></code>
 and <code class="inline"><span class="i">%-</span></code>
 are implemented as tied hashes through the new module
<code class="inline"><span class="w">Tie::Hash::NamedCapture</span></code>
.</p>
<p>Users exposed to the .NET regex engine will find that the perl
implementation differs in that the numerical ordering of the buffers
is sequential, and not "unnamed first, then named". Thus in the pattern</p>
<pre class="verbatim"><ol><li>   <span class="q">/(A)(?&lt;B&gt;B)(C)(?&lt;D&gt;D)/</span></li></ol></pre><p>$1 will be 'A', $2 will be 'B', $3 will be 'C' and $4 will be 'D' and not
$1 is 'A', $2 is 'C' and $3 is 'B' and $4 is 'D' that a .NET programmer
would expect. This is considered a feature. :-) (Yves Orton)</p>
</li>
<li><a class='view-title' id="Possessive-Quantifiers"></a><strong>Possessive Quantifiers</strong>
<p>Perl now supports the "possessive quantifier" syntax of the "atomic match"
pattern. Basically a possessive quantifier matches as much as it can and never
gives any back. Thus it can be used to control backtracking. The syntax is
similar to non-greedy matching, except instead of using a '?' as the modifier
the '+' is used. Thus <code class="inline"><span class="q">?+</span></code>
, <code class="inline"><span class="i">*+</span></code>
, <code class="inline">++</code>
, <code class="inline"><span class="s">{</span><span class="w">min</span><span class="cm">,</span><span class="w">max</span><span class="s">}</span>+</code>
 are now legal
quantifiers. (Yves Orton)</p>
</li>
<li><a class='view-title' id="Backtracking-control-verbs"></a><strong>Backtracking control verbs</strong>
<p>The regex engine now supports a number of special-purpose backtrack
control verbs: (*THEN), (*PRUNE), (*MARK), (*SKIP), (*COMMIT), (*FAIL)
and (*ACCEPT). See <a href="perlre.html">perlre</a> for their descriptions. (Yves Orton)</p>
</li>
<li><a class='view-title' id="Relative-backreferences"></a><strong>Relative backreferences</strong>
<p>A new syntax <code class="inline">\<span class="i">g</span><span class="s">{</span><span class="w">N</span><span class="s">}</span></code>
 or <code class="inline">\<span class="w">gN</span></code>
 where "N" is a decimal integer allows a
safer form of back-reference notation as well as allowing relative
backreferences. This should make it easier to generate and embed patterns
that contain backreferences. See <a href="perlre.html#Capture-buffers">Capture buffers in perlre</a>. (Yves Orton)</p>
</li>
<li><a class='view-title' id="%5cK-escape"></a><strong><code class="inline">\<span class="w">K</span></code>
 escape</strong>
<p>The functionality of Jeff Pinyan's module Regexp::Keep has been added to
the core. In regular expressions you can now use the special escape <code class="inline">\<span class="w">K</span></code>

as a way to do something like floating length positive lookbehind. It is
also useful in substitutions like:</p>
<pre class="verbatim"><ol><li>  <span class="q">s/(foo)bar/$1/g</span></li></ol></pre><p>that can now be converted to</p>
<pre class="verbatim"><ol><li>  <span class="q">s/foo\Kbar//g</span></li></ol></pre><p>which is much more efficient. (Yves Orton)</p>
</li>
<li><a class='view-title' id="Vertical-and-horizontal-whitespace%2c-and-linebreak"></a><strong>Vertical and horizontal whitespace, and linebreak</strong>
<p>Regular expressions now recognize the <code class="inline">\<span class="w">v</span></code>
 and <code class="inline">\<span class="w">h</span></code>
 escapes that match
vertical and horizontal whitespace, respectively. <code class="inline">\<span class="w">V</span></code>
 and <code class="inline">\<span class="w">H</span></code>

logically match their complements.</p>
<p><code class="inline">\<span class="w">R</span></code>
 matches a generic linebreak, that is, vertical whitespace, plus
the multi-character sequence <code class="inline"><span class="q">&quot;\x0D\x0A&quot;</span></code>
.</p>
</li>
</ul>
<a class='view-head2' id="say()"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/say.html">say()</a></code></h3>
<p>say() is a new built-in, only available when <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&#39;say&#39;</span></code>
 is in
effect, that is similar to print(), but that implicitly appends a newline
to the printed string. See <a class='function-name' href="functions/say.html">say</a>. (Robin Houston)</p>
<a class='view-head2' id="Lexical-%24_"></a><h3 class='h3' >Lexical <code class="inline"><span class="i">$_</span></code>
</h3>
<p>The default variable <code class="inline"><span class="i">$_</span></code>
 can now be lexicalized, by declaring it like
any other lexical variable, with a simple</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$_</span><span class="sc">;</span></li></ol></pre><p>The operations that default on <code class="inline"><span class="i">$_</span></code>
 will use the lexically-scoped
version of <code class="inline"><span class="i">$_</span></code>
 when it exists, instead of the global <code class="inline"><span class="i">$_</span></code>
.</p>
<p>In a <code class="inline"><a class="l_k" href="functions/map.html">map</a></code> or a <code class="inline"><a class="l_k" href="functions/grep.html">grep</a></code> block, if <code class="inline"><span class="i">$_</span></code>
 was previously my'ed, then the
<code class="inline"><span class="i">$_</span></code>
 inside the block is lexical as well (and scoped to the block).</p>
<p>In a scope where <code class="inline"><span class="i">$_</span></code>
 has been lexicalized, you can still have access to
the global version of <code class="inline"><span class="i">$_</span></code>
 by using <code class="inline"><span class="i">$::_</span></code>
, or, more simply, by
overriding the lexical declaration with <code class="inline"><a class="l_k" href="functions/our.html">our</a> <span class="i">$_</span></code>
. (Rafael Garcia-Suarez)</p>
<a class='view-head2' id="The-_-prototype"></a><h3 class='h3' >The <code class="inline"><span class="w">_</span></code>
 prototype</h3>
<p>A new prototype character has been added. <code class="inline"><span class="w">_</span></code>
 is equivalent to <code class="inline"><span class="i">$</span></code>
 but
defaults to <code class="inline"><span class="i">$_</span></code>
 if the corresponding argument isn't supplied (both <code class="inline"><span class="i">$</span></code>

and <code class="inline"><span class="w">_</span></code>
 denote a scalar). Due to the optional nature of the argument, 
you can only use it at the end of a prototype, or before a semicolon.</p>
<p>This has a small incompatible consequence: the prototype() function has
been adjusted to return <code class="inline"><span class="w">_</span></code>
 for some built-ins in appropriate cases (for
example, <code class="inline"><a class="l_k" href="functions/prototype.html">prototype('CORE::rmdir')</a></code>). (Rafael Garcia-Suarez)</p>
<a class='view-head2' id="UNITCHECK-blocks"></a><h3 class='h3' >UNITCHECK blocks</h3>
<p><code class="inline"><a class="l_k" href="functions/UNITCHECK.html">UNITCHECK</a></code>, a new special code block has been introduced, in addition to
<code class="inline"><a class="l_k" href="functions/BEGIN.html">BEGIN</a></code>, <code class="inline"><a class="l_k" href="functions/CHECK.html">CHECK</a></code>, <code class="inline"><a class="l_k" href="functions/INIT.html">INIT</a></code> and <code class="inline"><a class="l_k" href="functions/END.html">END</a></code>.</p>
<p><code class="inline"><a class="l_k" href="functions/CHECK.html">CHECK</a></code> and <code class="inline"><a class="l_k" href="functions/INIT.html">INIT</a></code> blocks, while useful for some specialized purposes,
are always executed at the transition between the compilation and the
execution of the main program, and thus are useless whenever code is
loaded at runtime. On the other hand, <code class="inline"><a class="l_k" href="functions/UNITCHECK.html">UNITCHECK</a></code> blocks are executed
just after the unit which defined them has been compiled. See <a href="perlmod.html">perlmod</a>
for more information. (Alex Gough)</p>
<a class='view-head2' id="New-Pragma%2c-mro"></a><h3 class='h3' >New Pragma, <code class="inline"><span class="w">mro</span></code>
</h3>
<p>A new pragma, <code class="inline"><span class="w">mro</span></code>
 (for Method Resolution Order) has been added. It
permits to switch, on a per-class basis, the algorithm that perl uses to
find inherited methods in case of a multiple inheritance hierarchy. The
default MRO hasn't changed (DFS, for Depth First Search). Another MRO is
available: the C3 algorithm. See <a href="mro.html">mro</a> for more information.
(Brandon Black)</p>
<p>Note that, due to changes in the implementation of class hierarchy search,
code that used to undef the <code class="inline"><span class="i">*ISA</span></code>
 glob will most probably break. Anyway,
undef'ing <code class="inline"><span class="i">*ISA</span></code>
 had the side-effect of removing the magic on the @ISA
array and should not have been done in the first place. Also, the
cache <code class="inline"><span class="i">*::ISA::CACHE::</span></code>
 no longer exists; to force reset the @ISA cache,
you now need to use the <code class="inline"><span class="w">mro</span></code>
 API, or more simply to assign to @ISA
(e.g. with <code class="inline"><span class="i">@ISA</span> = <span class="i">@ISA</span></code>
).</p>
<a class='view-head2' id="readdir()-may-return-a-%22short-filename%22-on-Windows"></a><h3 class='h3' >readdir() may return a "short filename" on Windows</h3>
<p>The readdir() function may return a "short filename" when the long
filename contains characters outside the ANSI codepage.  Similarly
Cwd::cwd() may return a short directory name, and glob() may return short
names as well.  On the NTFS file system these short names can always be
represented in the ANSI codepage.  This will not be true for all other file
system drivers; e.g. the FAT filesystem stores short filenames in the OEM
codepage, so some files on FAT volumes remain unaccessible through the
ANSI APIs.</p>
<p>Similarly, $^X, @INC, and $ENV{PATH} are preprocessed at startup to make
sure all paths are valid in the ANSI codepage (if possible).</p>
<p>The Win32::GetLongPathName() function now returns the UTF-8 encoded
correct long file name instead of using replacement characters to force
the name into the ANSI codepage.  The new Win32::GetANSIPathName()
function can be used to turn a long pathname into a short one only if the
long one cannot be represented in the ANSI codepage.</p>
<p>Many other functions in the <code class="inline"><span class="w">Win32</span></code>
 module have been improved to accept
UTF-8 encoded arguments.  Please see <a href="https://search.cpan.org/perldoc/Win32">Win32</a> for details.</p>
<a class='view-head2' id="readpipe()-is-now-overridable"></a><h3 class='h3' >readpipe() is now overridable</h3>
<p>The built-in function readpipe() is now overridable. Overriding it permits
also to override its operator counterpart, <code class="inline"><a class="l_k" href="functions/qx.html">qx//</a></code> (a.k.a. <code class="inline"><span class="q">``</span></code>
).
Moreover, it now defaults to <code class="inline"><span class="i">$_</span></code>
 if no argument is provided. (Rafael
Garcia-Suarez)</p>
<a class='view-head2' id="Default-argument-for-readline()"></a><h3 class='h3' >Default argument for readline()</h3>
<p>readline() now defaults to <code class="inline"><span class="i">*ARGV</span></code>
 if no argument is provided. (Rafael
Garcia-Suarez)</p>
<a class='view-head2' id="state()-variables"></a><h3 class='h3' >state() variables</h3>
<p>A new class of variables has been introduced. State variables are similar
to <code class="inline"><a class="l_k" href="functions/my.html">my</a></code> variables, but are declared with the <code class="inline"><a class="l_k" href="functions/state.html">state</a></code> keyword in place of
<code class="inline"><a class="l_k" href="functions/my.html">my</a></code>. They're visible only in their lexical scope, but their value is
persistent: unlike <code class="inline"><a class="l_k" href="functions/my.html">my</a></code> variables, they're not undefined at scope entry,
but retain their previous value. (Rafael Garcia-Suarez, Nicholas Clark)</p>
<p>To use state variables, one needs to enable them by using</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&#39;state&#39;</span><span class="sc">;</span></li></ol></pre><p>or by using the <code class="inline">-<span class="w">E</span></code>
 command-line switch in one-liners.
See <a href="perlsub.html#Persistent-Private-Variables">Persistent Private Variables in perlsub</a>.</p>
<a class='view-head2' id="Stacked-filetest-operators"></a><h3 class='h3' >Stacked filetest operators</h3>
<p>As a new form of syntactic sugar, it's now possible to stack up filetest
operators. You can now write <code class="inline">-f -w -x <span class="i">$file</span></code>
 in a row to mean
<code class="inline">-x <span class="i">$file</span> &amp;&amp; -w <span class="i">_</span> &amp;&amp; -f <span class="i">_</span></code>
. See <a class='function-name' href="functions/-X.html">-X</a>.</p>
<a class='view-head2' id="UNIVERSAL%3a%3aDOES()"></a><h3 class='h3' >UNIVERSAL::DOES()</h3>
<p>The <code class="inline"><span class="w">UNIVERSAL</span></code>
 class has a new method, <code class="inline"><span class="i">DOES</span><span class="s">(</span><span class="s">)</span></code>
. It has been added to
solve semantic problems with the <code class="inline"><span class="i">isa</span><span class="s">(</span><span class="s">)</span></code>
 method. <code class="inline"><span class="i">isa</span><span class="s">(</span><span class="s">)</span></code>
 checks for
inheritance, while <code class="inline"><span class="i">DOES</span><span class="s">(</span><span class="s">)</span></code>
 has been designed to be overridden when
module authors use other types of relations between classes (in addition
to inheritance). (chromatic)</p>
<p>See <a href="UNIVERSAL.html#%24obj-%3eDOES(-ROLE-)">$obj-&gt;DOES( ROLE ) in UNIVERSAL</a>.</p>
<a class='view-head2' id="Formats"></a><h3 class='h3' >Formats</h3>
<p>Formats were improved in several ways. A new field, <code class="inline">^<span class="i">*</span></code>
, can be used for
variable-width, one-line-at-a-time text. Null characters are now handled
correctly in picture lines. Using <code class="inline"><span class="i">@#</span></code>
 and <code class="inline">~~</code>
 together will now
produce a compile-time error, as those format fields are incompatible.
<a href="perlform.html">perlform</a> has been improved, and miscellaneous bugs fixed.</p>
<a class='view-head2' id="Byte-order-modifiers-for-pack()-and-unpack()"></a><h3 class='h3' >Byte-order modifiers for pack() and unpack()</h3>
<p>There are two new byte-order modifiers, <code class="inline">&gt;</code>
 (big-endian) and <code class="inline">&lt;</code>

(little-endian), that can be appended to most pack() and unpack() template
characters and groups to force a certain byte-order for that type or group.
See <a class='function-name' href="functions/pack.html">pack</a> and <a href="perlpacktut.html">perlpacktut</a> for details.</p>
<a class='view-head2' id="no-VERSION"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">VERSION</span></code>
</h3>
<p>You can now use <code class="inline"><a class="l_k" href="functions/no.html">no</a></code> followed by a version number to specify that you
want to use a version of perl older than the specified one.</p>
<a class='view-head2' id="chdir%2c-chmod-and-chown-on-filehandles"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/chdir.html">chdir</a></code>, <code class="inline"><a class="l_k" href="functions/chmod.html">chmod</a></code> and <code class="inline"><a class="l_k" href="functions/chown.html">chown</a></code> on filehandles</h3>
<p><code class="inline"><a class="l_k" href="functions/chdir.html">chdir</a></code>, <code class="inline"><a class="l_k" href="functions/chmod.html">chmod</a></code> and <code class="inline"><a class="l_k" href="functions/chown.html">chown</a></code> can now work on filehandles as well as
filenames, if the system supports respectively <code class="inline"><span class="w">fchdir</span></code>
, <code class="inline"><span class="w">fchmod</span></code>
 and
<code class="inline"><span class="w">fchown</span></code>
, thanks to a patch provided by Gisle Aas.</p>
<a class='view-head2' id="OS-groups"></a><h3 class='h3' >OS groups</h3>
<p><code class="inline"><span class="i">$(</span></code>
 and <code class="inline"><span class="i">$)</span></code>
 now return groups in the order where the OS returns them,
thanks to Gisle Aas. This wasn't previously the case.</p>
<a class='view-head2' id="Recursive-sort-subs"></a><h3 class='h3' >Recursive sort subs</h3>
<p>You can now use recursive subroutines with sort(), thanks to Robin Houston.</p>
<a class='view-head2' id="Exceptions-in-constant-folding"></a><h3 class='h3' >Exceptions in constant folding</h3>
<p>The constant folding routine is now wrapped in an exception handler, and
if folding throws an exception (such as attempting to evaluate 0/0), perl
now retains the current optree, rather than aborting the whole program.
Without this change, programs would not compile if they had expressions that
happened to generate exceptions, even though those expressions were in code
that could never be reached at runtime. (Nicholas Clark, Dave Mitchell)</p>
<a class='view-head2' id="Source-filters-in-%40INC"></a><h3 class='h3' >Source filters in @INC</h3>
<p>It's possible to enhance the mechanism of subroutine hooks in @INC by
adding a source filter on top of the filehandle opened and returned by the
hook. This feature was planned a long time ago, but wasn't quite working
until now. See <a class='function-name' href="functions/require.html">require</a> for details. (Nicholas Clark)</p>
<a class='view-head2' id="New-internal-variables"></a><h3 class='h3' >New internal variables</h3>
<ul>
<li><a class='view-title' id="%24%7b%5eRE_DEBUG_FLAGS%7d"></a><strong><code class="inline"><span class="i">$</span>{<span class="w">^RE_DEBUG_FLAGS</span>}</code>
</strong>
<p>This variable controls what debug flags are in effect for the regular
expression engine when running under <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&quot;debug&quot;</span></code>
. See <a href="re.html">re</a> for
details.</p>
</li>
<li><a class='view-title' id="%24%7b%5eCHILD_ERROR_NATIVE%7d"></a><strong><code class="inline"><span class="i">$</span>{<span class="w">^CHILD_ERROR_NATIVE</span>}</code>
</strong>
<p>This variable gives the native status returned by the last pipe close,
backtick command, successful call to wait() or waitpid(), or from the
system() operator. See <a href="perlvar.html">perlvar</a> for details. (Contributed by Gisle Aas.)</p>
</li>
<li><a class='view-title' id="%24%7b%5eRE_TRIE_MAXBUF%7d"></a><strong><code class="inline"><span class="i">$</span>{<span class="w">^RE_TRIE_MAXBUF</span>}</code>
</strong>
<p>See <a href="#Trie-optimisation-of-literal-string-alternations">Trie optimisation of literal string alternations</a>.</p>
</li>
<li><a class='view-title' id="%24%7b%5eWIN32_SLOPPY_STAT%7d"></a><strong><code class="inline"><span class="i">$</span>{<span class="w">^WIN32_SLOPPY_STAT</span>}</code>
</strong>
<p>See <a href="#Sloppy-stat-on-Windows">Sloppy stat on Windows</a>.</p>
</li>
</ul>
<a class='view-head2' id="Miscellaneous"></a><h3 class='h3' >Miscellaneous</h3>
<p><code class="inline"><a class="l_k" href="functions/unpack.html">unpack()</a></code> now defaults to unpacking the <code class="inline"><span class="i">$_</span></code>
 variable.</p>
<p><code class="inline"><a class="l_k" href="functions/mkdir.html">mkdir()</a></code> without arguments now defaults to <code class="inline"><span class="i">$_</span></code>
.</p>
<p>The internal dump output has been improved, so that non-printable characters
such as newline and backspace are output in <code class="inline">\<span class="w">x</span></code>
 notation, rather than
octal.</p>
<p>The <strong>-C</strong> option can no longer be used on the <code class="inline"><span class="c">#!</span></code>
 line. It wasn't
working there anyway, since the standard streams are already set up
at this point in the execution of the perl interpreter. You can use
binmode() instead to get the desired behaviour.</p>
<a class='view-head2' id="UCD-5.0.0"></a><h3 class='h3' >UCD 5.0.0</h3>
<p>The copy of the Unicode Character Database included in Perl 5 has
been updated to version 5.0.0.</p>
<a class='view-head2' id="MAD"></a><h3 class='h3' >MAD</h3>
<p>MAD, which stands for <i>Miscellaneous Attribute Decoration</i>, is a
still-in-development work leading to a Perl 5 to Perl 6 converter. To
enable it, it's necessary to pass the argument <code class="inline">-<span class="w">Dmad</span></code>
 to Configure. The
obtained perl isn't binary compatible with a regular perl 5.10, and has
space and speed penalties; moreover not all regression tests still pass
with it. (Larry Wall, Nicholas Clark)</p>
<a class='view-head2' id="kill()-on-Windows"></a><h3 class='h3' >kill() on Windows</h3>
<p>On Windows platforms, <code class="inline"><a class="l_k" href="functions/kill.html">kill</a><span class="s">(</span><span class="n">-9</span><span class="cm">,</span> <span class="i">$pid</span><span class="s">)</span></code>
 now kills a process tree.
(On Unix, this delivers the signal to all processes in the same process
group.)</p>
<a class='view-head1' id="Incompatible-Changes"></a><h2 class='h2' >Incompatible Changes</h2>
<a class='view-head2' id="Packing-and-UTF-8-strings"></a><h3 class='h3' >Packing and UTF-8 strings</h3>
<p>The semantics of pack() and unpack() regarding UTF-8-encoded data has been
changed. Processing is now by default character per character instead of
byte per byte on the underlying encoding. Notably, code that used things
like <code class="inline"><a class="l_k" href="functions/pack.html">pack</a><span class="s">(</span><span class="q">&quot;a*&quot;</span><span class="cm">,</span> <span class="i">$string</span><span class="s">)</span></code>
 to see through the encoding of string will now
simply get back the original $string. Packed strings can also get upgraded
during processing when you store upgraded characters. You can get the old
behaviour by using <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">bytes</span></code>
.</p>
<p>To be consistent with pack(), the <code class="inline"><span class="w">C0</span></code>
 in unpack() templates indicates
that the data is to be processed in character mode, i.e. character by
character; on the contrary, <code class="inline"><span class="w">U0</span></code>
 in unpack() indicates UTF-8 mode, where
the packed string is processed in its UTF-8-encoded Unicode form on a byte
by byte basis. This is reversed with regard to perl 5.8.X, but now consistent
between pack() and unpack().</p>
<p>Moreover, <code class="inline"><span class="w">C0</span></code>
 and <code class="inline"><span class="w">U0</span></code>
 can also be used in pack() templates to specify
respectively character and byte modes.</p>
<p><code class="inline"><span class="w">C0</span></code>
 and <code class="inline"><span class="w">U0</span></code>
 in the middle of a pack or unpack format now switch to the
specified encoding mode, honoring parens grouping. Previously, parens were
ignored.</p>
<p>Also, there is a new pack() character format, <code class="inline"><span class="w">W</span></code>
, which is intended to
replace the old <code class="inline"><span class="w">C</span></code>
. <code class="inline"><span class="w">C</span></code>
 is kept for unsigned chars coded as bytes in
the strings internal representation. <code class="inline"><span class="w">W</span></code>
 represents unsigned (logical)
character values, which can be greater than 255. It is therefore more
robust when dealing with potentially UTF-8-encoded data (as <code class="inline"><span class="w">C</span></code>
 will wrap
values outside the range 0..255, and not respect the string encoding).</p>
<p>In practice, that means that pack formats are now encoding-neutral, except
<code class="inline"><span class="w">C</span></code>
.</p>
<p>For consistency, <code class="inline"><span class="w">A</span></code>
 in unpack() format now trims all Unicode whitespace
from the end of the string. Before perl 5.9.2, it used to strip only the
classical ASCII space characters.</p>
<a class='view-head2' id="Byte%2fcharacter-count-feature-in-unpack()"></a><h3 class='h3' >Byte/character count feature in unpack()</h3>
<p>A new unpack() template character, <code class="inline"><span class="q">&quot;.&quot;</span></code>
, returns the number of bytes or
characters (depending on the selected encoding mode, see above) read so far.</p>
<a class='view-head2' id="The-%24*-and-%24%23-variables-have-been-removed"></a><h3 class='h3' >The <code class="inline"><span class="i">$*</span></code>
 and <code class="inline"><span class="i">$#</span></code>
 variables have been removed</h3>
<p><code class="inline"><span class="i">$*</span></code>
, which was deprecated in favor of the <code class="inline"><span class="q">/s</span></code>
 and <code class="inline"><span class="q">/m</span></code>
 regexp
modifiers, has been removed.</p>
<p>The deprecated <code class="inline"><span class="i">$#</span></code>
 variable (output format for numbers) has been
removed.</p>
<p>Two new severe warnings, <code class="inline"><span class="i">$#</span>/<span class="i">$*</span> <span class="w">is</span> <a class="l_k" href="functions/no.html">no</a> <span class="w">longer</span> <span class="w">supported</span></code>
, have been added.</p>
<a class='view-head2' id="substr()-lvalues-are-no-longer-fixed-length"></a><h3 class='h3' >substr() lvalues are no longer fixed-length</h3>
<p>The lvalues returned by the three argument form of substr() used to be a
"fixed length window" on the original string. In some cases this could
cause surprising action at distance or other undefined behaviour. Now the
length of the window adjusts itself to the length of the string assigned to
it.</p>
<a class='view-head2' id="Parsing-of--f-_"></a><h3 class='h3' >Parsing of <code class="inline">-f <span class="i">_</span></code>
</h3>
<p>The identifier <code class="inline"><span class="w">_</span></code>
 is now forced to be a bareword after a filetest
operator. This solves a number of misparsing issues when a global <code class="inline"><span class="w">_</span></code>

subroutine is defined.</p>
<a class='view-head2' id="%3aunique"></a><h3 class='h3' ><code class="inline"><span class="j">:</span><span class="w">unique</span></code>
</h3>
<p>The <code class="inline"><span class="j">:</span><span class="w">unique</span></code>
 attribute has been made a no-op, since its current
implementation was fundamentally flawed and not threadsafe.</p>
<a class='view-head2' id="Effect-of-pragmas-in-eval"></a><h3 class='h3' >Effect of pragmas in eval</h3>
<p>The compile-time value of the <code class="inline"><span class="i">%^H</span></code>
 hint variable can now propagate into
eval("")uated code. This makes it more useful to implement lexical
pragmas.</p>
<p>As a side-effect of this, the overloaded-ness of constants now propagates
into eval("").</p>
<a class='view-head2' id="chdir-FOO"></a><h3 class='h3' >chdir FOO</h3>
<p>A bareword argument to chdir() is now recognized as a file handle.
Earlier releases interpreted the bareword as a directory name.
(Gisle Aas)</p>
<a class='view-head2' id="Handling-of-.pmc-files"></a><h3 class='h3' >Handling of .pmc files</h3>
<p>An old feature of perl was that before <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> or <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> look for a
file with a <i>.pm</i> extension, they will first look for a similar filename
with a <i>.pmc</i> extension. If this file is found, it will be loaded in
place of any potentially existing file ending in a <i>.pm</i> extension.</p>
<p>Previously, <i>.pmc</i> files were loaded only if more recent than the
matching <i>.pm</i> file. Starting with 5.9.4, they'll be always loaded if
they exist.</p>
<a class='view-head2' id="%24%5eV-is-now-a-version-object-instead-of-a-v-string"></a><h3 class='h3' >$^V is now a <code class="inline"><span class="w">version</span></code>
 object instead of a v-string</h3>
<p>$^V can still be used with the <code class="inline"><span class="i">%vd</span></code>
 format in printf, but any
character-level operations will now access the string representation
of the <code class="inline"><span class="w">version</span></code>
 object and not the ordinals of a v-string.
Expressions like <code class="inline"><a class="l_k" href="functions/substr.html">substr</a><span class="s">(</span><span class="i">$^V</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">2</span><span class="s">)</span></code>
 or <code class="inline"><a class="l_k" href="functions/split.html">split</a> <span class="q">//</span><span class="cm">,</span> <span class="i">$^V</span></code>

no longer work and must be rewritten.</p>
<a class='view-head2' id="%40--and-%40%2b-in-patterns"></a><h3 class='h3' >@- and @+ in patterns</h3>
<p>The special arrays <code class="inline"><span class="i">@-</span></code>
 and <code class="inline"><span class="i">@+</span></code>
 are no longer interpolated in regular
expressions. (Sadahiro Tomoyuki)</p>
<a class='view-head2' id="%24AUTOLOAD-can-now-be-tainted"></a><h3 class='h3' >$AUTOLOAD can now be tainted</h3>
<p>If you call a subroutine by a tainted name, and if it defers to an
AUTOLOAD function, then $AUTOLOAD will be (correctly) tainted.
(Rick Delaney)</p>
<a class='view-head2' id="Tainting-and-printf"></a><h3 class='h3' >Tainting and printf</h3>
<p>When perl is run under taint mode, <code class="inline"><a class="l_k" href="functions/printf.html">printf()</a></code> and <code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf()</a></code> will now
reject any tainted format argument. (Rafael Garcia-Suarez)</p>
<a class='view-head2' id="undef-and-signal-handlers"></a><h3 class='h3' >undef and signal handlers</h3>
<p>Undefining or deleting a signal handler via <code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">$SIG</span>{<span class="w">FOO</span>}</code>
 is now
equivalent to setting it to <code class="inline"><span class="q">&#39;DEFAULT&#39;</span></code>
. (Rafael Garcia-Suarez)</p>
<a class='view-head2' id="strictures-and-dereferencing-in-defined()"></a><h3 class='h3' >strictures and dereferencing in defined()</h3>
<p><code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span> <span class="q">&#39;refs&#39;</span></code>
 was ignoring taking a hard reference in an argument
to defined(), as in :</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span> <span class="q">&#39;refs&#39;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span> = <span class="q">&#39;foo&#39;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span><a class="l_k" href="functions/defined.html">defined</a> <span class="i">$$x</span><span class="s">)</span> <span class="s">{</span>...<span class="s">}</span></li></ol></pre><p>This now correctly produces the run-time error <code class="inline"><span class="w">Can&#39;t</span> <a class="l_k" href="functions/use.html">use</a> <span class="w">string</span> <span class="w">as</span> <span class="w">a</span>
<span class="w">SCALAR</span> <a class="l_k" href="functions/ref.html">ref</a> <a class="l_k" href="functions/while.html">while</a> <span class="q">&quot;strict refs&quot;</span> <span class="w">in</span> <a class="l_k" href="functions/use.html">use</a></code>
.</p>
<p><code class="inline"><a class="l_k" href="functions/defined.html">defined</a> <span class="i">@$foo</span></code>
 and <code class="inline"><a class="l_k" href="functions/defined.html">defined</a> <span class="i">%$bar</span></code>
 are now also subject to <code class="inline"><span class="w">strict</span>
<span class="q">&#39;refs&#39;</span></code>
 (that is, <code class="inline"><span class="i">$foo</span></code>
 and <code class="inline"><span class="i">$bar</span></code>
 shall be proper references there.)
(<code class="inline"><a class="l_k" href="functions/defined.html">defined(@foo)</a></code> and <code class="inline"><a class="l_k" href="functions/defined.html">defined(%bar)</a></code> are discouraged constructs anyway.)
(Nicholas Clark)</p>
<a class='view-head2' id="(%3fp%7b%7d)-has-been-removed"></a><h3 class='h3' ><code class="inline"><span class="s">(</span><span class="q">?p{})</span></code>
 has been removed</h3>
<p>The regular expression construct <code class="inline"><span class="s">(</span><span class="q">?p{})</span></code>
, which was deprecated in perl
5.8, has been removed. Use <code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span><span class="s">}</span><span class="s">)</span></code>
 instead. (Rafael Garcia-Suarez)</p>
<a class='view-head2' id="Pseudo-hashes-have-been-removed"></a><h3 class='h3' >Pseudo-hashes have been removed</h3>
<p>Support for pseudo-hashes has been removed from Perl 5.9. (The <code class="inline"><span class="w">fields</span></code>

pragma remains here, but uses an alternate implementation.)</p>
<a class='view-head2' id="Removal-of-the-bytecode-compiler-and-of-perlcc"></a><h3 class='h3' >Removal of the bytecode compiler and of perlcc</h3>
<p><code class="inline"><span class="w">perlcc</span></code>
, the byteloader and the supporting modules (B::C, B::CC,
B::Bytecode, etc.) are no longer distributed with the perl sources. Those
experimental tools have never worked reliably, and, due to the lack of
volunteers to keep them in line with the perl interpreter developments, it
was decided to remove them instead of shipping a broken version of those.
The last version of those modules can be found with perl 5.9.4.</p>
<p>However the B compiler framework stays supported in the perl core, as with
the more useful modules it has permitted (among others, B::Deparse and
B::Concise).</p>
<a class='view-head2' id="Removal-of-the-JPL"></a><h3 class='h3' >Removal of the JPL</h3>
<p>The JPL (Java-Perl Lingo) has been removed from the perl sources tarball.</p>
<a class='view-head2' id="Recursive-inheritance-detected-earlier"></a><h3 class='h3' >Recursive inheritance detected earlier</h3>
<p>Perl will now immediately throw an exception if you modify any package's
<code class="inline"><span class="i">@ISA</span></code>
 in such a way that it would cause recursive inheritance.</p>
<p>Previously, the exception would not occur until Perl attempted to make
use of the recursive inheritance while resolving a method or doing a
<code class="inline"><span class="i">$foo</span><span class="i">-&gt;isa</span><span class="s">(</span><span class="i">$bar</span><span class="s">)</span></code>
 lookup.</p>
<a class='view-head2' id="warnings%3a%3aenabled-and-warnings%3a%3awarnif-changed-to-favor-users-of-modules"></a><h3 class='h3' >warnings::enabled and warnings::warnif changed to favor users of modules</h3>
<p>The behaviour in 5.10.x favors the person using the module;
The behaviour in 5.8.x favors the module writer;</p>
<p>Assume the following code:</p>
<pre class="verbatim"><ol><li>  <span class="w">main</span> <span class="w">calls</span> <span class="i">Foo::Bar::baz</span><span class="s">(</span><span class="s">)</span></li><li>  <span class="w">Foo::Bar</span> <span class="w">inherits</span> <span class="w">from</span> <span class="w">Foo::Base</span></li><li>  <span class="i">Foo::Bar::baz</span><span class="s">(</span><span class="s">)</span> <span class="w">calls</span> <span class="i">Foo::Base::_bazbaz</span><span class="s">(</span><span class="s">)</span></li><li>  <span class="i">Foo::Base::_bazbaz</span><span class="s">(</span><span class="s">)</span> <span class="w">calls</span><span class="co">:</span> <span class="i">warnings::warnif</span><span class="s">(</span><span class="q">&#39;substr&#39;</span><span class="cm">,</span> <span class="q">&#39;some warning </span></li><li><span class="q">message&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>On 5.8.x, the code warns when Foo::Bar contains <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span></code>

It does not matter if Foo::Base or main have warnings enabled
to disable the warning one has to modify Foo::Bar.</p>
<p>On 5.10.0 and newer, the code warns when main contains <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span></code>

It does not matter if Foo::Base or Foo::Bar have warnings enabled
to disable the warning one has to modify main.</p>
<a class='view-head1' id="Modules-and-Pragmata"></a><h2 class='h2' >Modules and Pragmata</h2>
<a class='view-head2' id="Upgrading-individual-core-modules"></a><h3 class='h3' >Upgrading individual core modules</h3>
<p>Even more core modules are now also available separately through the
CPAN.  If you wish to update one of these modules, you don't need to
wait for a new perl release.  From within the cpan shell, running the
'r' command will report on modules with upgrades available.  See
<code class="inline"><span class="w">perldoc</span> <span class="w">CPAN</span></code>
 for more information.</p>
<a class='view-head2' id="Pragmata-Changes"></a><h3 class='h3' >Pragmata Changes</h3>
<ul>
<li><a class='view-title' id="feature"></a><strong><code class="inline"><span class="w">feature</span></code>
</strong>
<p>The new pragma <code class="inline"><span class="w">feature</span></code>
 is used to enable new features that might break
old code. See <a href="#The-feature-pragma">The feature pragma</a> above.</p>
</li>
<li><a class='view-title' id="mro"></a><strong><code class="inline"><span class="w">mro</span></code>
</strong>
<p>This new pragma enables to change the algorithm used to resolve inherited
methods. See <a href="#New-Pragma%2c-mro">New Pragma, mro</a> above.</p>
</li>
<li><a class='view-title' id="Scoping-of-the-sort-pragma"></a><strong>Scoping of the <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code> pragma</strong>
<p>The <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code> pragma is now lexically scoped. Its effect used to be global.</p>
</li>
<li><a class='view-title' id="Scoping-of-bignum%2c-bigint%2c-bigrat"></a><strong>Scoping of <code class="inline"><span class="w">bignum</span></code>
, <code class="inline"><span class="w">bigint</span></code>
, <code class="inline"><span class="w">bigrat</span></code>
</strong>
<p>The three numeric pragmas <code class="inline"><span class="w">bignum</span></code>
, <code class="inline"><span class="w">bigint</span></code>
 and <code class="inline"><span class="w">bigrat</span></code>
 are now
lexically scoped. (Tels)</p>
</li>
<li><a class='view-title' id="base"></a><strong><code class="inline"><span class="w">base</span></code>
</strong>
<p>The <code class="inline"><span class="w">base</span></code>
 pragma now warns if a class tries to inherit from itself.
(Curtis "Ovid" Poe)</p>
</li>
<li><a class='view-title' id="strict-and-warnings"></a><strong><code class="inline"><span class="w">strict</span></code>
 and <code class="inline"><span class="w">warnings</span></code>
</strong>
<p><code class="inline"><span class="w">strict</span></code>
 and <code class="inline"><span class="w">warnings</span></code>
 will now complain loudly if they are loaded via
incorrect casing (as in <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">Strict</span><span class="sc">;</span></code>
). (Johan Vromans)</p>
</li>
<li><a class='view-title' id="version"></a><strong><code class="inline"><span class="w">version</span></code>
</strong>
<p>The <code class="inline"><span class="w">version</span></code>
 module provides support for version objects.</p>
</li>
<li><a class='view-title' id="warnings"></a><strong><code class="inline"><span class="w">warnings</span></code>
</strong>
<p>The <code class="inline"><span class="w">warnings</span></code>
 pragma doesn't load <code class="inline"><span class="w">Carp</span></code>
 anymore. That means that code
that used <code class="inline"><span class="w">Carp</span></code>
 routines without having loaded it at compile time might
need to be adjusted; typically, the following (faulty) code won't work
anymore, and will require parentheses to be added after the function name:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/require.html">require</a> <span class="w">Carp</span><span class="sc">;</span></li><li>    <span class="w">Carp::confess</span> <span class="q">&#39;argh&#39;</span><span class="sc">;</span></li></ol></pre></li>
<li><a class='view-title' id="less"></a><strong><code class="inline"><span class="w">less</span></code>
</strong>
<p><code class="inline"><span class="w">less</span></code>
 now does something useful (or at least it tries to). In fact, it
has been turned into a lexical pragma. So, in your modules, you can now
test whether your users have requested to use less CPU, or less memory,
less magic, or maybe even less fat. See <a href="less.html">less</a> for more. (Joshua ben
Jore)</p>
</li>
</ul>
<a class='view-head2' id="New-modules"></a><h3 class='h3' >New modules</h3>
<ul>
<li>
<p><code class="inline"><span class="w">encoding::warnings</span></code>
, by Audrey Tang, is a module to emit warnings
whenever an ASCII character string containing high-bit bytes is implicitly
converted into UTF-8. It's a lexical pragma since Perl 5.9.4; on older
perls, its effect is global.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::CoreList</span></code>
, by Richard Clamp, is a small handy module that tells
you what versions of core modules ship with any versions of Perl 5. It
comes with a command-line frontend, <code class="inline"><span class="w">corelist</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">Math::BigInt::FastCalc</span></code>
 is an XS-enabled, and thus faster, version of
<code class="inline"><span class="w">Math::BigInt::Calc</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">Compress::Zlib</span></code>
 is an interface to the zlib compression library. It
comes with a bundled version of zlib, so having a working zlib is not a
prerequisite to install it. It's used by <code class="inline"><span class="w">Archive::Tar</span></code>
 (see below).</p>
</li>
<li>
<p><code class="inline"><span class="w">IO::Zlib</span></code>
 is an <code class="inline"><span class="w">IO::</span></code>
-style interface to <code class="inline"><span class="w">Compress::Zlib</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">Archive::Tar</span></code>
 is a module to manipulate <code class="inline"><span class="w">tar</span></code>
 archives.</p>
</li>
<li>
<p><code class="inline"><span class="w">Digest::SHA</span></code>
 is a module used to calculate many types of SHA digests,
has been included for SHA support in the CPAN module.</p>
</li>
<li>
<p><code class="inline"><span class="w">ExtUtils::CBuilder</span></code>
 and <code class="inline"><span class="w">ExtUtils::ParseXS</span></code>
 have been added.</p>
</li>
<li>
<p><code class="inline"><span class="w">Hash::Util::FieldHash</span></code>
, by Anno Siegel, has been added. This module
provides support for <i>field hashes</i>: hashes that maintain an association
of a reference with a value, in a thread-safe garbage-collected way.
Such hashes are useful to implement inside-out objects.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::Build</span></code>
, by Ken Williams, has been added. It's an alternative to
<code class="inline"><span class="w">ExtUtils::MakeMaker</span></code>
 to build and install perl modules.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::Load</span></code>
, by Jos Boumans, has been added. It provides a single
interface to load Perl modules and <i>.pl</i> files.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::Loaded</span></code>
, by Jos Boumans, has been added. It's used to mark
modules as loaded or unloaded.</p>
</li>
<li>
<p><code class="inline"><span class="w">Package::Constants</span></code>
, by Jos Boumans, has been added. It's a simple
helper to list all constants declared in a given package.</p>
</li>
<li>
<p><code class="inline"><span class="w">Win32API::File</span></code>
, by Tye McQueen, has been added (for Windows builds).
This module provides low-level access to Win32 system API calls for
files/dirs.</p>
</li>
<li>
<p><code class="inline"><span class="w">Locale::Maketext::Simple</span></code>
, needed by CPANPLUS, is a simple wrapper around
<code class="inline"><span class="w">Locale::Maketext::Lexicon</span></code>
. Note that <code class="inline"><span class="w">Locale::Maketext::Lexicon</span></code>
 isn't
included in the perl core; the behaviour of <code class="inline"><span class="w">Locale::Maketext::Simple</span></code>

gracefully degrades when the later isn't present.</p>
</li>
<li>
<p><code class="inline"><span class="w">Params::Check</span></code>
 implements a generic input parsing/checking mechanism. It
is used by CPANPLUS.</p>
</li>
<li>
<p><code class="inline"><span class="w">Term::UI</span></code>
 simplifies the task to ask questions at a terminal prompt.</p>
</li>
<li>
<p><code class="inline"><span class="w">Object::Accessor</span></code>
 provides an interface to create per-object accessors.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::Pluggable</span></code>
 is a simple framework to create modules that accept
pluggable sub-modules.</p>
</li>
<li>
<p><code class="inline"><span class="w">Module::Load::Conditional</span></code>
 provides simple ways to query and possibly
load installed modules.</p>
</li>
<li>
<p><code class="inline"><span class="w">Time::Piece</span></code>
 provides an object oriented interface to time functions,
overriding the built-ins localtime() and gmtime().</p>
</li>
<li>
<p><code class="inline"><span class="w">IPC::Cmd</span></code>
 helps to find and run external commands, possibly
interactively.</p>
</li>
<li>
<p><code class="inline"><span class="w">File::Fetch</span></code>
 provide a simple generic file fetching mechanism.</p>
</li>
<li>
<p><code class="inline"><span class="w">Log::Message</span></code>
 and <code class="inline"><span class="w">Log::Message::Simple</span></code>
 are used by the log facility
of <code class="inline"><span class="w">CPANPLUS</span></code>
.</p>
</li>
<li>
<p><code class="inline"><span class="w">Archive::Extract</span></code>
 is a generic archive extraction mechanism
for <i>.tar</i> (plain, gzipped or bzipped) or <i>.zip</i> files.</p>
</li>
<li>
<p><code class="inline"><span class="w">CPANPLUS</span></code>
 provides an API and a command-line tool to access the CPAN
mirrors.</p>
</li>
<li>
<p><code class="inline"><span class="w">Pod::Escapes</span></code>
 provides utilities that are useful in decoding Pod
E&lt;...&gt; sequences.</p>
</li>
<li>
<p><code class="inline"><span class="w">Pod::Simple</span></code>
 is now the backend for several of the Pod-related modules
included with Perl.</p>
</li>
</ul>
<a class='view-head2' id="Selected-Changes-to-Core-Modules"></a><h3 class='h3' >Selected Changes to Core Modules</h3>
<ul>
<li><a class='view-title' id="Attribute%3a%3aHandlers"></a><strong><code class="inline"><span class="w">Attribute::Handlers</span></code>
</strong>
<p><code class="inline"><span class="w">Attribute::Handlers</span></code>
 can now report the caller's file and line number.
(David Feldman)</p>
<p>All interpreted attributes are now passed as array references. (Damian
Conway)</p>
</li>
<li><a class='view-title' id="B%3a%3aLint"></a><strong><code class="inline"><span class="w">B::Lint</span></code>
</strong>
<p><code class="inline"><span class="w">B::Lint</span></code>
 is now based on <code class="inline"><span class="w">Module::Pluggable</span></code>
, and so can be extended
with plugins. (Joshua ben Jore)</p>
</li>
<li><a class='view-title' id="B"></a><strong><code class="inline"><span class="w">B</span></code>
</strong>
<p>It's now possible to access the lexical pragma hints (<code class="inline"><span class="i">%^H</span></code>
) by using the
method B::COP::hints_hash(). It returns a <code class="inline"><span class="w">B::RHE</span></code>
 object, which in turn
can be used to get a hash reference via the method B::RHE::HASH(). (Joshua
ben Jore)</p>
</li>
<li><a class='view-title' id="Thread"></a><strong><code class="inline"><span class="w">Thread</span></code>
</strong>
<p>As the old 5005thread threading model has been removed, in favor of the
ithreads scheme, the <code class="inline"><span class="w">Thread</span></code>
 module is now a compatibility wrapper, to
be used in old code only. It has been removed from the default list of
dynamic extensions.</p>
</li>
</ul>
<a class='view-head1' id="Utility-Changes"></a><h2 class='h2' >Utility Changes</h2>
<ul>
<li><a class='view-title' id="perl--d"></a><strong>perl -d</strong>
<p>The Perl debugger can now save all debugger commands for sourcing later;
notably, it can now emulate stepping backwards, by restarting and
rerunning all bar the last command from a saved command history.</p>
<p>It can also display the parent inheritance tree of a given class, with the
<code class="inline"><span class="w">i</span></code>
 command.</p>
</li>
<li><a class='view-title' id="ptar"></a><strong>ptar</strong>
<p><code class="inline"><span class="w">ptar</span></code>
 is a pure perl implementation of <code class="inline"><span class="w">tar</span></code>
 that comes with
<code class="inline"><span class="w">Archive::Tar</span></code>
.</p>
</li>
<li><a class='view-title' id="ptardiff"></a><strong>ptardiff</strong>
<p><code class="inline"><span class="w">ptardiff</span></code>
 is a small utility used to generate a diff between the contents
of a tar archive and a directory tree. Like <code class="inline"><span class="w">ptar</span></code>
, it comes with
<code class="inline"><span class="w">Archive::Tar</span></code>
.</p>
</li>
<li><a class='view-title' id="shasum"></a><strong>shasum</strong>
<p><code class="inline"><span class="w">shasum</span></code>
 is a command-line utility, used to print or to check SHA
digests. It comes with the new <code class="inline"><span class="w">Digest::SHA</span></code>
 module.</p>
</li>
<li><a class='view-title' id="corelist"></a><strong>corelist</strong>
<p>The <code class="inline"><span class="w">corelist</span></code>
 utility is now installed with perl (see <a href="#New-modules">New modules</a>
above).</p>
</li>
<li><a class='view-title' id="h2ph-and-h2xs"></a><strong>h2ph and h2xs</strong>
<p><code class="inline"><span class="w">h2ph</span></code>
 and <code class="inline"><span class="w">h2xs</span></code>
 have been made more robust with regard to
"modern" C code.</p>
<p><code class="inline"><span class="w">h2xs</span></code>
 implements a new option <code class="inline">--<a class="l_k" href="functions/use.html">use</a>-<span class="w">xsloader</span></code>
 to force use of
<code class="inline"><span class="w">XSLoader</span></code>
 even in backwards compatible modules.</p>
<p>The handling of authors' names that had apostrophes has been fixed.</p>
<p>Any enums with negative values are now skipped.</p>
</li>
<li><a class='view-title' id="perlivp"></a><strong>perlivp</strong>
<p><code class="inline"><span class="w">perlivp</span></code>
 no longer checks for <i>*.ph</i> files by default.  Use the new <code class="inline">-<span class="w">a</span></code>

option to run <i>all</i> tests.</p>
</li>
<li><a class='view-title' id="find2perl"></a><strong>find2perl</strong>
<p><code class="inline"><span class="w">find2perl</span></code>
 now assumes <code class="inline">-<a class="l_k" href="functions/print.html">print</a></code>
 as a default action. Previously, it
needed to be specified explicitly.</p>
<p>Several bugs have been fixed in <code class="inline"><span class="w">find2perl</span></code>
, regarding <code class="inline">-<a class="l_k" href="functions/exec.html">exec</a></code>
 and
<code class="inline">-<a class="l_k" href="functions/eval.html">eval</a></code>
. Also the options <code class="inline">-<span class="w">path</span></code>
, <code class="inline">-<span class="w">ipath</span></code>
 and <code class="inline">-<span class="w">iname</span></code>
 have been
added.</p>
</li>
<li><a class='view-title' id="config_data"></a><strong>config_data</strong>
<p><code class="inline"><span class="w">config_data</span></code>
 is a new utility that comes with <code class="inline"><span class="w">Module::Build</span></code>
. It
provides a command-line interface to the configuration of Perl modules
that use Module::Build's framework of configurability (that is,
<code class="inline"><span class="i">*::ConfigData</span></code>
 modules that contain local configuration information for
their parent modules.)</p>
</li>
<li><a class='view-title' id="cpanp"></a><strong>cpanp</strong>
<p><code class="inline"><span class="w">cpanp</span></code>
, the CPANPLUS shell, has been added. (<code class="inline"><span class="w">cpanp</span>-<span class="w">run</span>-<span class="w">perl</span></code>
, a
helper for CPANPLUS operation, has been added too, but isn't intended for
direct use).</p>
</li>
<li><a class='view-title' id="cpan2dist"></a><strong>cpan2dist</strong>
<p><code class="inline"><span class="w">cpan2dist</span></code>
 is a new utility that comes with CPANPLUS. It's a tool to
create distributions (or packages) from CPAN modules.</p>
</li>
<li><a class='view-title' id="pod2html"></a><strong>pod2html</strong>
<p>The output of <code class="inline"><span class="w">pod2html</span></code>
 has been enhanced to be more customizable via
CSS. Some formatting problems were also corrected. (Jari Aalto)</p>
</li>
</ul>
<a class='view-head1' id="New-Documentation"></a><h2 class='h2' >New Documentation</h2>
<p>The <a href="perlpragma.html">perlpragma</a> manpage documents how to write one's own lexical
pragmas in pure Perl (something that is possible starting with 5.9.4).</p>
<p>The new <a href="perlglossary.html">perlglossary</a> manpage is a glossary of terms used in the Perl
documentation, technical and otherwise, kindly provided by O'Reilly Media,
Inc.</p>
<p>The <a href="perlreguts.html">perlreguts</a> manpage, courtesy of Yves Orton, describes internals of the
Perl regular expression engine.</p>
<p>The <a href="perlreapi.html">perlreapi</a> manpage describes the interface to the perl interpreter
used to write pluggable regular expression engines (by &#xc6;var Arnfj&#xf6;r&#xf0;
Bjarmason).</p>
<p>The <a href="perlunitut.html">perlunitut</a> manpage is an tutorial for programming with Unicode and
string encodings in Perl, courtesy of Juerd Waalboer.</p>
<p>A new manual page, <a href="perlunifaq.html">perlunifaq</a> (the Perl Unicode FAQ), has been added
(Juerd Waalboer).</p>
<p>The <a href="perlcommunity.html">perlcommunity</a> manpage gives a description of the Perl community
on the Internet and in real life. (Edgar "Trizor" Bering)</p>
<p>The <a href="CORE.html">CORE</a> manual page documents the <code class="inline"><span class="w">CORE::</span></code>
 namespace. (Tels)</p>
<p>The long-existing feature of <code class="inline"><span class="q">/(?{...})/</span></code>
 regexps setting <code class="inline"><span class="i">$_</span></code>
 and pos()
is now documented.</p>
<a class='view-head1' id="Performance-Enhancements"></a><h2 class='h2' >Performance Enhancements</h2>
<a class='view-head2' id="In-place-sorting"></a><h3 class='h3' >In-place sorting</h3>
<p>Sorting arrays in place (<code class="inline"><span class="i">@a</span> = <a class="l_k" href="functions/sort.html">sort</a> <span class="i">@a</span></code>
) is now optimized to avoid
making a temporary copy of the array.</p>
<p>Likewise, <code class="inline"><a class="l_k" href="functions/reverse.html">reverse</a> <a class="l_k" href="functions/sort.html">sort</a> ...</code>
 is now optimized to sort in reverse,
avoiding the generation of a temporary intermediate list.</p>
<a class='view-head2' id="Lexical-array-access"></a><h3 class='h3' >Lexical array access</h3>
<p>Access to elements of lexical arrays via a numeric constant between 0 and
255 is now faster. (This used to be only the case for global arrays.)</p>
<a class='view-head2' id="XS-assisted-SWASHGET"></a><h3 class='h3' >XS-assisted SWASHGET</h3>
<p>Some pure-perl code that perl was using to retrieve Unicode properties and
transliteration mappings has been reimplemented in XS.</p>
<a class='view-head2' id="Constant-subroutines"></a><h3 class='h3' >Constant subroutines</h3>
<p>The interpreter internals now support a far more memory efficient form of
inlineable constants. Storing a reference to a constant value in a symbol
table is equivalent to a full typeglob referencing a constant subroutine,
but using about 400 bytes less memory. This proxy constant subroutine is
automatically upgraded to a real typeglob with subroutine if necessary.
The approach taken is analogous to the existing space optimisation for
subroutine stub declarations, which are stored as plain scalars in place
of the full typeglob.</p>
<p>Several of the core modules have been converted to use this feature for
their system dependent constants - as a result <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">POSIX</span><span class="sc">;</span></code>
 now takes about
200K less memory.</p>
<a class='view-head2' id="PERL_DONT_CREATE_GVSV"></a><h3 class='h3' ><code class="inline"><span class="w">PERL_DONT_CREATE_GVSV</span></code>
</h3>
<p>The new compilation flag <code class="inline"><span class="w">PERL_DONT_CREATE_GVSV</span></code>
, introduced as an option
in perl 5.8.8, is turned on by default in perl 5.9.3. It prevents perl
from creating an empty scalar with every new typeglob. See <a href="perl589delta.html">perl589delta</a>
for details.</p>
<a class='view-head2' id="Weak-references-are-cheaper"></a><h3 class='h3' >Weak references are cheaper</h3>
<p>Weak reference creation is now <i>O(1)</i> rather than <i>O(n)</i>, courtesy of
Nicholas Clark. Weak reference deletion remains <i>O(n)</i>, but if deletion only
happens at program exit, it may be skipped completely.</p>
<a class='view-head2' id="sort()-enhancements"></a><h3 class='h3' >sort() enhancements</h3>
<p>Salvador Fandi&#xf1;o provided improvements to reduce the memory usage of <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code>
and to speed up some cases.</p>
<a class='view-head2' id="Memory-optimisations"></a><h3 class='h3' >Memory optimisations</h3>
<p>Several internal data structures (typeglobs, GVs, CVs, formats) have been
restructured to use less memory. (Nicholas Clark)</p>
<a class='view-head2' id="UTF-8-cache-optimisation"></a><h3 class='h3' >UTF-8 cache optimisation</h3>
<p>The UTF-8 caching code is now more efficient, and used more often.
(Nicholas Clark)</p>
<a class='view-head2' id="Sloppy-stat-on-Windows"></a><h3 class='h3' >Sloppy stat on Windows</h3>
<p>On Windows, perl's stat() function normally opens the file to determine
the link count and update attributes that may have been changed through
hard links. Setting ${^WIN32_SLOPPY_STAT} to a true value speeds up
stat() by not performing this operation. (Jan Dubois)</p>
<a class='view-head2' id="Regular-expressions-optimisations"></a><h3 class='h3' >Regular expressions optimisations</h3>
<ul>
<li><a class='view-title' id="Engine-de-recursivised"></a><strong>Engine de-recursivised</strong>
<p>The regular expression engine is no longer recursive, meaning that
patterns that used to overflow the stack will either die with useful
explanations, or run to completion, which, since they were able to blow
the stack before, will likely take a very long time to happen. If you were
experiencing the occasional stack overflow (or segfault) and upgrade to
discover that now perl apparently hangs instead, look for a degenerate
regex. (Dave Mitchell)</p>
</li>
<li><a class='view-title' id="Single-char-char-classes-treated-as-literals"></a><strong>Single char char-classes treated as literals</strong>
<p>Classes of a single character are now treated the same as if the character
had been used as a literal, meaning that code that uses char-classes as an
escaping mechanism will see a speedup. (Yves Orton)</p>
</li>
<li><a class='view-title' id="Trie-optimisation-of-literal-string-alternations"></a><strong>Trie optimisation of literal string alternations</strong>
<p>Alternations, where possible, are optimised into more efficient matching
structures. String literal alternations are merged into a trie and are
matched simultaneously.  This means that instead of O(N) time for matching
N alternations at a given point, the new code performs in O(1) time.
A new special variable, ${^RE_TRIE_MAXBUF}, has been added to fine-tune
this optimization. (Yves Orton)</p>
<p><strong>Note:</strong> Much code exists that works around perl's historic poor
performance on alternations. Often the tricks used to do so will disable
the new optimisations. Hopefully the utility modules used for this purpose
will be educated about these new optimisations.</p>
</li>
<li><a class='view-title' id="Aho-Corasick-start-point-optimisation"></a><strong>Aho-Corasick start-point optimisation</strong>
<p>When a pattern starts with a trie-able alternation and there aren't
better optimisations available, the regex engine will use Aho-Corasick
matching to find the start point. (Yves Orton)</p>
</li>
</ul>
<a class='view-head1' id="Installation-and-Configuration-Improvements"></a><h2 class='h2' >Installation and Configuration Improvements</h2>
<a class='view-head2' id="Configuration-improvements"></a><h3 class='h3' >Configuration improvements</h3>
<ul>
<li><a class='view-title' id="-Dusesitecustomize"></a><strong><code class="inline">-<span class="w">Dusesitecustomize</span></code>
</strong>
<p>Run-time customization of @INC can be enabled by passing the
<code class="inline">-<span class="w">Dusesitecustomize</span></code>
 flag to Configure. When enabled, this will make perl
run <i>$sitelibexp/sitecustomize.pl</i> before anything else.  This script can
then be set up to add additional entries to @INC.</p>
</li>
<li><a class='view-title' id="Relocatable-installations"></a><strong>Relocatable installations</strong>
<p>There is now Configure support for creating a relocatable perl tree. If
you Configure with <code class="inline">-<span class="w">Duserelocatableinc</span></code>
, then the paths in @INC (and
everything else in %Config) can be optionally located via the path of the
perl executable.</p>
<p>That means that, if the string <code class="inline"><span class="q">&quot;.../&quot;</span></code>
 is found at the start of any
path, it's substituted with the directory of $^X. So, the relocation can
be configured on a per-directory basis, although the default with
<code class="inline">-<span class="w">Duserelocatableinc</span></code>
 is that everything is relocated. The initial
install is done to the original configured prefix.</p>
</li>
<li><a class='view-title' id="strlcat()-and-strlcpy()"></a><strong>strlcat() and strlcpy()</strong>
<p>The configuration process now detects whether strlcat() and strlcpy() are
available.  When they are not available, perl's own version is used (from
Russ Allbery's public domain implementation).  Various places in the perl
interpreter now use them. (Steve Peters)</p>
</li>
<li><a class='view-title' id="d_pseudofork-and-d_printf_format_null"></a><strong><code class="inline"><span class="w">d_pseudofork</span></code>
 and <code class="inline"><span class="w">d_printf_format_null</span></code>
</strong>
<p>A new configuration variable, available as <code class="inline"><span class="i">$Config</span>{<span class="w">d_pseudofork</span>}</code>
 in
the <a href="Config.html">Config</a> module, has been added, to distinguish real fork() support
from fake pseudofork used on Windows platforms.</p>
<p>A new configuration variable, <code class="inline"><span class="w">d_printf_format_null</span></code>
, has been added, 
to see if printf-like formats are allowed to be NULL.</p>
</li>
<li><a class='view-title' id="Configure-help"></a><strong>Configure help</strong>
<p><code class="inline"><span class="w">Configure</span> -<span class="w">h</span></code>
 has been extended with the most commonly used options.</p>
</li>
</ul>
<a class='view-head2' id="Compilation-improvements"></a><h3 class='h3' >Compilation improvements</h3>
<ul>
<li><a class='view-title' id="Parallel-build"></a><strong>Parallel build</strong>
<p>Parallel makes should work properly now, although there may still be problems
if <code class="inline"><span class="w">make</span> <span class="w">test</span></code>
 is instructed to run in parallel.</p>
</li>
<li><a class='view-title' id="Borland's-compilers-support"></a><strong>Borland's compilers support</strong>
<p>Building with Borland's compilers on Win32 should work more smoothly. In
particular Steve Hay has worked to side step many warnings emitted by their
compilers and at least one C compiler internal error.</p>
</li>
<li><a class='view-title' id="Static-build-on-Windows"></a><strong>Static build on Windows</strong>
<p>Perl extensions on Windows now can be statically built into the Perl DLL.</p>
<p>Also, it's now possible to build a <code class="inline"><span class="w">perl</span>-<span class="w">static</span>.<span class="w">exe</span></code>
 that doesn't depend
on the Perl DLL on Win32. See the Win32 makefiles for details.
(Vadim Konovalov)</p>
</li>
<li><a class='view-title' id="ppport.h-files"></a><strong>ppport.h files</strong>
<p>All <i>ppport.h</i> files in the XS modules bundled with perl are now
autogenerated at build time. (Marcus Holland-Moritz)</p>
</li>
<li><a class='view-title' id="C%2b%2b-compatibility"></a><strong>C++ compatibility</strong>
<p>Efforts have been made to make perl and the core XS modules compilable
with various C++ compilers (although the situation is not perfect with
some of the compilers on some of the platforms tested.)</p>
</li>
<li><a class='view-title' id="Support-for-Microsoft-64-bit-compiler"></a><strong>Support for Microsoft 64-bit compiler</strong>
<p>Support for building perl with Microsoft's 64-bit compiler has been
improved. (ActiveState)</p>
</li>
<li><a class='view-title' id="Visual-C%2b%2b"></a><strong>Visual C++</strong>
<p>Perl can now be compiled with Microsoft Visual C++ 2005 (and 2008 Beta 2).</p>
</li>
<li><a class='view-title' id="Win32-builds"></a><strong>Win32 builds</strong>
<p>All win32 builds (MS-Win, WinCE) have been merged and cleaned up.</p>
</li>
</ul>
<a class='view-head2' id="Installation-improvements"></a><h3 class='h3' >Installation improvements</h3>
<ul>
<li><a class='view-title' id="Module-auxiliary-files"></a><strong>Module auxiliary files</strong>
<p>README files and changelogs for CPAN modules bundled with perl are no
longer installed.</p>
</li>
</ul>
<a class='view-head2' id="New-Or-Improved-Platforms"></a><h3 class='h3' >New Or Improved Platforms</h3>
<p>Perl has been reported to work on Symbian OS. See <a href="perlsymbian.html">perlsymbian</a> for more
information.</p>
<p>Many improvements have been made towards making Perl work correctly on
z/OS.</p>
<p>Perl has been reported to work on DragonFlyBSD and MidnightBSD.</p>
<p>Perl has also been reported to work on NexentaOS
( <a href="http://www.gnusolaris.org/">http://www.gnusolaris.org/</a> ).</p>
<p>The VMS port has been improved. See <a href="perlvms.html">perlvms</a>.</p>
<p>Support for Cray XT4 Catamount/Qk has been added. See
<i>hints/catamount.sh</i> in the source code distribution for more
information.</p>
<p>Vendor patches have been merged for RedHat and Gentoo.</p>
<p>DynaLoader::dl_unload_file() now works on Windows.</p>
<a class='view-head1' id="Selected-Bug-Fixes"></a><h2 class='h2' >Selected Bug Fixes</h2>
<ul>
<li><a class='view-title' id="strictures-in-regexp-eval-blocks"></a><strong>strictures in regexp-eval blocks</strong>
<p><code class="inline"><span class="w">strict</span></code>
 wasn't in effect in regexp-eval blocks (<code class="inline"><span class="q">/(?{...})/</span></code>
).</p>
</li>
<li><a class='view-title' id="Calling-CORE%3a%3arequire()"></a><strong>Calling CORE::require()</strong>
<p>CORE::require() and CORE::do() were always parsed as require() and do()
when they were overridden. This is now fixed.</p>
</li>
<li><a class='view-title' id="Subscripts-of-slices"></a><strong>Subscripts of slices</strong>
<p>You can now use a non-arrowed form for chained subscripts after a list
slice, like in:</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span><span class="s">{</span><span class="w">foo</span> <span class="cm">=&gt;</span> <span class="q">&quot;bar&quot;</span><span class="s">}</span><span class="s">)</span>[<span class="n">0</span>]{<span class="w">foo</span>}</li></ol></pre><p>This used to be a syntax error; a <code class="inline">-&gt;</code>
 was required.</p>
</li>
<li><a class='view-title' id="no-warnings-'category'-works-correctly-with--w"></a><strong><code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&#39;category&#39;</span></code>
 works correctly with -w</strong>
<p>Previously when running with warnings enabled globally via <code class="inline">-w</code>
, selective
disabling of specific warning categories would actually turn off all warnings.
This is now fixed; now <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">warnings</span> <span class="q">&#39;io&#39;</span><span class="sc">;</span></code>
 will only turn off warnings in the
<code class="inline"><span class="w">io</span></code>
 class. Previously it would erroneously turn off all warnings.</p>
</li>
<li><a class='view-title' id="threads-improvements"></a><strong>threads improvements</strong>
<p>Several memory leaks in ithreads were closed. Also, ithreads were made
less memory-intensive.</p>
<p><code class="inline"><span class="w">threads</span></code>
 is now a dual-life module, also available on CPAN. It has been
expanded in many ways. A kill() method is available for thread signalling.
One can get thread status, or the list of running or joinable threads.</p>
<p>A new <code class="inline"><span class="w">threads</span><span class="w">-&gt;exit</span><span class="s">(</span><span class="s">)</span></code>
 method is used to exit from the application
(this is the default for the main thread) or from the current thread only
(this is the default for all other threads). On the other hand, the exit()
built-in now always causes the whole application to terminate. (Jerry
D. Hedden)</p>
</li>
<li><a class='view-title' id="chr()-and-negative-values"></a><strong>chr() and negative values</strong>
<p>chr() on a negative value now gives <code class="inline">\<span class="i">x</span><span class="s">{</span><span class="w">FFFD</span><span class="s">}</span></code>
, the Unicode replacement
character, unless when the <code class="inline"><span class="w">bytes</span></code>
 pragma is in effect, where the low
eight bits of the value are used.</p>
</li>
<li><a class='view-title' id="PERL5SHELL-and-tainting"></a><strong>PERL5SHELL and tainting</strong>
<p>On Windows, the PERL5SHELL environment variable is now checked for
taintedness. (Rafael Garcia-Suarez)</p>
</li>
<li><a class='view-title' id="Using-*FILE%7bIO%7d"></a><strong>Using *FILE{IO}</strong>
<p><code class="inline"><a class="l_k" href="functions/stat.html">stat()</a></code> and <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> filetests now treat *FILE{IO} filehandles like *FILE
filehandles. (Steve Peters)</p>
</li>
<li><a class='view-title' id="Overloading-and-reblessing"></a><strong>Overloading and reblessing</strong>
<p>Overloading now works when references are reblessed into another class.
Internally, this has been implemented by moving the flag for "overloading"
from the reference to the referent, which logically is where it should
always have been. (Nicholas Clark)</p>
</li>
<li><a class='view-title' id="Overloading-and-UTF-8"></a><strong>Overloading and UTF-8</strong>
<p>A few bugs related to UTF-8 handling with objects that have
stringification overloaded have been fixed. (Nicholas Clark)</p>
</li>
<li><a class='view-title' id="eval-memory-leaks-fixed"></a><strong>eval memory leaks fixed</strong>
<p>Traditionally, <code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="q">&#39;syntax error&#39;</span></code>
 has leaked badly. Many (but not all)
of these leaks have now been eliminated or reduced. (Dave Mitchell)</p>
</li>
<li><a class='view-title' id="Random-device-on-Windows"></a><strong>Random device on Windows</strong>
<p>In previous versions, perl would read the file <i>/dev/urandom</i> if it
existed when seeding its random number generator.  That file is unlikely
to exist on Windows, and if it did would probably not contain appropriate
data, so perl no longer tries to read it on Windows. (Alex Davies)</p>
</li>
<li><a class='view-title' id="PERLIO_DEBUG"></a><strong>PERLIO_DEBUG</strong>
<p>The <code class="inline"><span class="w">PERLIO_DEBUG</span></code>
 environment variable no longer has any effect for
setuid scripts and for scripts run with <strong>-T</strong>.</p>
<p>Moreover, with a thread-enabled perl, using <code class="inline"><span class="w">PERLIO_DEBUG</span></code>
 could lead to
an internal buffer overflow. This has been fixed.</p>
</li>
<li><a class='view-title' id="PerlIO%3a%3ascalar-and-read-only-scalars"></a><strong>PerlIO::scalar and read-only scalars</strong>
<p>PerlIO::scalar will now prevent writing to read-only scalars. Moreover,
seek() is now supported with PerlIO::scalar-based filehandles, the
underlying string being zero-filled as needed. (Rafael, Jarkko Hietaniemi)</p>
</li>
<li><a class='view-title' id="study()-and-UTF-8"></a><strong>study() and UTF-8</strong>
<p>study() never worked for UTF-8 strings, but could lead to false results.
It's now a no-op on UTF-8 data. (Yves Orton)</p>
</li>
<li><a class='view-title' id="Critical-signals"></a><strong>Critical signals</strong>
<p>The signals SIGILL, SIGBUS and SIGSEGV are now always delivered in an
"unsafe" manner (contrary to other signals, that are deferred until the
perl interpreter reaches a reasonably stable state; see
<a href="perlipc.html#Deferred-Signals-(Safe-Signals)">Deferred Signals (Safe Signals) in perlipc</a>). (Rafael)</p>
</li>
<li><a class='view-title' id="%40INC-hook-fix"></a><strong>@INC-hook fix</strong>
<p>When a module or a file is loaded through an @INC-hook, and when this hook
has set a filename entry in %INC, __FILE__ is now set for this module
accordingly to the contents of that %INC entry. (Rafael)</p>
</li>
<li><a class='view-title' id="-t-switch-fix"></a><strong><code class="inline">-t</code>
 switch fix</strong>
<p>The <code class="inline">-w</code>
 and <code class="inline">-t</code>
 switches can now be used together without messing
up which categories of warnings are activated. (Rafael)</p>
</li>
<li><a class='view-title' id="Duping-UTF-8-filehandles"></a><strong>Duping UTF-8 filehandles</strong>
<p>Duping a filehandle which has the <code class="inline"><span class="j">:</span><span class="w">utf8</span></code>
 PerlIO layer set will now
properly carry that layer on the duped filehandle. (Rafael)</p>
</li>
<li><a class='view-title' id="Localisation-of-hash-elements"></a><strong>Localisation of hash elements</strong>
<p>Localizing a hash element whose key was given as a variable didn't work
correctly if the variable was changed while the local() was in effect (as
in <code class="inline"><a class="l_k" href="functions/local.html">local</a> <span class="i">$h</span>{<span class="i">$x</span>}<span class="sc">;</span> ++<span class="i">$x</span></code>
). (Bo Lindbergh)</p>
</li>
</ul>
<a class='view-head1' id="New-or-Changed-Diagnostics"></a><h2 class='h2' >New or Changed Diagnostics</h2>
<ul>
<li><a class='view-title' id="Use-of-uninitialized-value"></a><strong>Use of uninitialized value</strong>
<p>Perl will now try to tell you the name of the variable (if any) that was
undefined.</p>
</li>
<li><a class='view-title' id="Deprecated-use-of-my()-in-false-conditional"></a><strong>Deprecated use of my() in false conditional</strong>
<p>A new deprecation warning, <i>Deprecated use of my() in false conditional</i>,
has been added, to warn against the use of the dubious and deprecated
construct</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span> <a class="l_k" href="functions/if.html">if</a> <span class="n">0</span><span class="sc">;</span></li></ol></pre><p>See <a href="perldiag.html">perldiag</a>. Use <code class="inline"><a class="l_k" href="functions/state.html">state</a></code> variables instead.</p>
</li>
<li><a class='view-title' id="!%3d~-should-be-!~"></a><strong>!=~ should be !~</strong>
<p>A new warning, <code class="inline">!=~ <span class="w">should</span> <span class="w">be</span> !~</code>
, is emitted to prevent this misspelling
of the non-matching operator.</p>
</li>
<li><a class='view-title' id="Newline-in-left-justified-string"></a><strong>Newline in left-justified string</strong>
<p>The warning <i>Newline in left-justified string</i> has been removed.</p>
</li>
<li><a class='view-title' id="Too-late-for-%22-T%22-option"></a><strong>Too late for "-T" option</strong>
<p>The error <i>Too late for "-T" option</i> has been reformulated to be more
descriptive.</p>
</li>
<li><a class='view-title' id="%22%25s%22-variable-%25s-masks-earlier-declaration"></a><strong>"%s" variable %s masks earlier declaration</strong>
<p>This warning is now emitted in more consistent cases; in short, when one
of the declarations involved is a <code class="inline"><a class="l_k" href="functions/my.html">my</a></code> variable:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span><span class="sc">;</span>   <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span><span class="sc">;</span>	<span class="c"># warns</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span><span class="sc">;</span>  <a class="l_k" href="functions/our.html">our</a> <span class="i">$x</span><span class="sc">;</span>	<span class="c"># warns</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">$x</span><span class="sc">;</span>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span><span class="sc">;</span>	<span class="c"># warns</span></li></ol></pre><p>On the other hand, the following:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">$x</span><span class="sc">;</span> <a class="l_k" href="functions/our.html">our</a> <span class="i">$x</span><span class="sc">;</span></li></ol></pre><p>now gives a <code class="inline"><span class="q">&quot;our&quot;</span> <span class="w">variable</span> <span class="i">%s</span> <span class="w">redeclared</span></code>
 warning.</p>
</li>
<li><a class='view-title' id="readdir()%2fclosedir()%2fetc.-attempted-on-invalid-dirhandle"></a><strong>readdir()/closedir()/etc. attempted on invalid dirhandle</strong>
<p>These new warnings are now emitted when a dirhandle is used but is
either closed or not really a dirhandle.</p>
</li>
<li><a class='view-title' id="Opening-dirhandle%2ffilehandle-%25s-also-as-a-file%2fdirectory"></a><strong>Opening dirhandle/filehandle %s also as a file/directory</strong>
<p>Two deprecation warnings have been added: (Rafael)</p>
<pre class="verbatim"><ol><li>    <span class="w">Opening</span> <span class="w">dirhandle</span> <span class="i">%s</span> <span class="w">also</span> <span class="w">as</span> <span class="w">a</span> <span class="w">file</span></li><li>    <span class="w">Opening</span> <span class="w">filehandle</span> <span class="i">%s</span> <span class="w">also</span> <span class="w">as</span> <span class="w">a</span> <span class="w">directory</span></li></ol></pre></li>
<li><a class='view-title' id="Use-of--P-is-deprecated"></a><strong>Use of -P is deprecated</strong>
<p>Perl's command-line switch <code class="inline">-<span class="w">P</span></code>
 is now deprecated.</p>
</li>
<li><a class='view-title' id="v-string-in-use%2frequire-is-non-portable"></a><strong>v-string in use/require is non-portable</strong>
<p>Perl will warn you against potential backwards compatibility problems with
the <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">VERSION</span></code>
 syntax.</p>
</li>
<li><a class='view-title' id="perl--V"></a><strong>perl -V</strong>
<p><code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
 has several improvements, making it more useable from shell
scripts to get the value of configuration variables. See <a href="perlrun.html">perlrun</a> for
details.</p>
</li>
</ul>
<a class='view-head1' id="Changed-Internals"></a><h2 class='h2' >Changed Internals</h2>
<p>In general, the source code of perl has been refactored, tidied up,
and optimized in many places. Also, memory management and allocation
has been improved in several points.</p>
<p>When compiling the perl core with gcc, as many gcc warning flags are
turned on as is possible on the platform.  (This quest for cleanliness
doesn't extend to XS code because we cannot guarantee the tidiness of
code we didn't write.)  Similar strictness flags have been added or
tightened for various other C compilers.</p>
<a class='view-head2' id="Reordering-of-SVt_*-constants"></a><h3 class='h3' >Reordering of SVt_* constants</h3>
<p>The relative ordering of constants that define the various types of <code class="inline"><span class="w">SV</span></code>

have changed; in particular, <code class="inline"><span class="w">SVt_PVGV</span></code>
 has been moved before <code class="inline"><span class="w">SVt_PVLV</span></code>
,
<code class="inline"><span class="w">SVt_PVAV</span></code>
, <code class="inline"><span class="w">SVt_PVHV</span></code>
 and <code class="inline"><span class="w">SVt_PVCV</span></code>
.  This is unlikely to make any
difference unless you have code that explicitly makes assumptions about that
ordering. (The inheritance hierarchy of <code class="inline"><span class="w">B::</span>*</code>
 objects has been changed
to reflect this.)</p>
<a class='view-head2' id="Elimination-of-SVt_PVBM"></a><h3 class='h3' >Elimination of SVt_PVBM</h3>
<p>Related to this, the internal type <code class="inline"><span class="w">SVt_PVBM</span></code>
 has been removed. This
dedicated type of <code class="inline"><span class="w">SV</span></code>
 was used by the <code class="inline"><a class="l_k" href="functions/index.html">index</a></code> operator and parts of the
regexp engine to facilitate fast Boyer-Moore matches. Its use internally has
been replaced by <code class="inline"><span class="w">SV</span></code>
s of type <code class="inline"><span class="w">SVt_PVGV</span></code>
.</p>
<a class='view-head2' id="New-type-SVt_BIND"></a><h3 class='h3' >New type SVt_BIND</h3>
<p>A new type <code class="inline"><span class="w">SVt_BIND</span></code>
 has been added, in readiness for the project to
implement Perl 6 on 5. There deliberately is no implementation yet, and
they cannot yet be created or destroyed.</p>
<a class='view-head2' id="Removal-of-CPP-symbols"></a><h3 class='h3' >Removal of CPP symbols</h3>
<p>The C preprocessor symbols <code class="inline"><span class="w">PERL_PM_APIVERSION</span></code>
 and
<code class="inline"><span class="w">PERL_XS_APIVERSION</span></code>
, which were supposed to give the version number of
the oldest perl binary-compatible (resp. source-compatible) with the
present one, were not used, and sometimes had misleading values. They have
been removed.</p>
<a class='view-head2' id="Less-space-is-used-by-ops"></a><h3 class='h3' >Less space is used by ops</h3>
<p>The <code class="inline"><span class="w">BASEOP</span></code>
 structure now uses less space. The <code class="inline"><span class="w">op_seq</span></code>
 field has been
removed and replaced by a single bit bit-field <code class="inline"><span class="w">op_opt</span></code>
. <code class="inline"><span class="w">op_type</span></code>
 is now 9
bits long. (Consequently, the <code class="inline"><span class="w">B::OP</span></code>
 class doesn't provide an <code class="inline"><span class="w">seq</span></code>

method anymore.)</p>
<a class='view-head2' id="New-parser"></a><h3 class='h3' >New parser</h3>
<p>perl's parser is now generated by bison (it used to be generated by
byacc.) As a result, it seems to be a bit more robust.</p>
<p>Also, Dave Mitchell improved the lexer debugging output under <code class="inline">-<span class="w">DT</span></code>
.</p>
<a class='view-head2' id="Use-of-const"></a><h3 class='h3' >Use of <code class="inline"><span class="w">const</span></code>
</h3>
<p>Andy Lester supplied many improvements to determine which function
parameters and local variables could actually be declared <code class="inline"><span class="w">const</span></code>
 to the C
compiler. Steve Peters provided new <code class="inline"><span class="i">*_set</span></code>
 macros and reworked the core to
use these rather than assigning to macros in LVALUE context.</p>
<a class='view-head2' id="Mathoms"></a><h3 class='h3' >Mathoms</h3>
<p>A new file, <i>mathoms.c</i>, has been added. It contains functions that are
no longer used in the perl core, but that remain available for binary or
source compatibility reasons. However, those functions will not be
compiled in if you add <code class="inline">-<span class="w">DNO_MATHOMS</span></code>
 in the compiler flags.</p>
<a class='view-head2' id="AvFLAGS-has-been-removed"></a><h3 class='h3' ><code class="inline"><span class="w">AvFLAGS</span></code>
 has been removed</h3>
<p>The <code class="inline"><span class="w">AvFLAGS</span></code>
 macro has been removed.</p>
<a class='view-head2' id="av_*-changes"></a><h3 class='h3' ><code class="inline"><span class="w">av_</span>*</code>
 changes</h3>
<p>The <code class="inline"><span class="w">av_</span>*<span class="s">(</span><span class="s">)</span></code>
 functions, used to manipulate arrays, no longer accept null
<code class="inline"><span class="w">AV</span>*</code>
 parameters.</p>
<a class='view-head2' id="%24%5eH-and-%25%5eH"></a><h3 class='h3' >$^H and %^H</h3>
<p>The implementation of the special variables $^H and %^H has changed, to
allow implementing lexical pragmas in pure Perl.</p>
<a class='view-head2' id="B%3a%3a-modules-inheritance-changed"></a><h3 class='h3' >B:: modules inheritance changed</h3>
<p>The inheritance hierarchy of <code class="inline"><span class="w">B::</span></code>
 modules has changed; <code class="inline"><span class="w">B::NV</span></code>
 now
inherits from <code class="inline"><span class="w">B::SV</span></code>
 (it used to inherit from <code class="inline"><span class="w">B::IV</span></code>
).</p>
<a class='view-head2' id="Anonymous-hash-and-array-constructors"></a><h3 class='h3' >Anonymous hash and array constructors</h3>
<p>The anonymous hash and array constructors now take 1 op in the optree
instead of 3, now that pp_anonhash and pp_anonlist return a reference to
an hash/array when the op is flagged with OPf_SPECIAL. (Nicholas Clark)</p>
<a class='view-head1' id="Known-Problems"></a><h2 class='h2' >Known Problems</h2>
<p>There's still a remaining problem in the implementation of the lexical
<code class="inline"><span class="i">$_</span></code>
: it doesn't work inside <code class="inline"><span class="q">/(?{...})/</span></code>
 blocks. (See the TODO test in
<i>t/op/mydef.t</i>.)</p>
<p>Stacked filetest operators won't work when the <code class="inline"><span class="w">filetest</span></code>
 pragma is in
effect, because they rely on the stat() buffer <code class="inline"><span class="w">_</span></code>
 being populated, and
filetest bypasses stat().</p>
<a class='view-head2' id="UTF-8-problems"></a><h3 class='h3' >UTF-8 problems</h3>
<p>The handling of Unicode still is unclean in several places, where it's
dependent on whether a string is internally flagged as UTF-8. This will
be made more consistent in perl 5.12, but that won't be possible without
a certain amount of backwards incompatibility.</p>
<a class='view-head1' id="Platform-Specific-Problems"></a><h2 class='h2' >Platform Specific Problems</h2>
<p>When compiled with g++ and thread support on Linux, it's reported that the
<code class="inline"><span class="i">$!</span></code>
 stops working correctly. This is related to the fact that the glibc
provides two strerror_r(3) implementation, and perl selects the wrong
one.</p>
<a class='view-head1' id="Reporting-Bugs"></a><h2 class='h2' >Reporting Bugs</h2>
<p>If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at <a href="http://rt.perl.org/rt3/">http://rt.perl.org/rt3/</a> .  There may also be
information at <a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>
<p>If you believe you have an unreported bug, please run the <strong>perlbug</strong>
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of <code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>The <i>Changes</i> file and the perl590delta to perl595delta man pages for
exhaustive details on what changed.</p>
<p>The <i>INSTALL</i> file for how to build Perl.</p>
<p>The <i>README</i> file for general stuff.</p>
<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Core-Enhancements">Core Enhancements</a></li><ul><li><a href="#The-feature-pragma">The feature pragma</a></li><li><a href="#New-*-E*-command-line-switch">New *-E* command-line switch</a></li><li><a href="#Defined-or-operator">Defined-or operator</a></li><li><a href="#Switch-and-Smart-Match-operator">Switch and Smart Match operator</a></li><li><a href="#Regular-expressions">Regular expressions</a></li><li><a href="#say()">say()</a></li><li><a href="#Lexical-%24_">Lexical $_</a></li><li><a href="#The-_-prototype">The _ prototype</a></li><li><a href="#UNITCHECK-blocks">UNITCHECK blocks</a></li><li><a href="#New-Pragma%2c-mro">New Pragma, mro</a></li><li><a href="#readdir()-may-return-a-%22short-filename%22-on-Windows">readdir() may return a "short filename" on Windows</a></li><li><a href="#readpipe()-is-now-overridable">readpipe() is now overridable</a></li><li><a href="#Default-argument-for-readline()">Default argument for readline()</a></li><li><a href="#state()-variables">state() variables</a></li><li><a href="#Stacked-filetest-operators">Stacked filetest operators</a></li><li><a href="#UNIVERSAL%3a%3aDOES()">UNIVERSAL::DOES()</a></li><li><a href="#Formats">Formats</a></li><li><a href="#Byte-order-modifiers-for-pack()-and-unpack()">Byte-order modifiers for pack() and unpack()</a></li><li><a href="#no-VERSION">no VERSION</a></li><li><a href="#chdir%2c-chmod-and-chown-on-filehandles">chdir, chmod and chown on filehandles</a></li><li><a href="#OS-groups">OS groups</a></li><li><a href="#Recursive-sort-subs">Recursive sort subs</a></li><li><a href="#Exceptions-in-constant-folding">Exceptions in constant folding</a></li><li><a href="#Source-filters-in-%40INC">Source filters in @INC</a></li><li><a href="#New-internal-variables">New internal variables</a></li><li><a href="#Miscellaneous">Miscellaneous</a></li><li><a href="#UCD-5.0.0">UCD 5.0.0</a></li><li><a href="#MAD">MAD</a></li><li><a href="#kill()-on-Windows">kill() on Windows</a></li></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a></li><ul><li><a href="#Packing-and-UTF-8-strings">Packing and UTF-8 strings</a></li><li><a href="#Byte%2fcharacter-count-feature-in-unpack()">Byte/character count feature in unpack()</a></li><li><a href="#The-%24*-and-%24%23-variables-have-been-removed">The $* and $# variables have been removed</a></li><li><a href="#substr()-lvalues-are-no-longer-fixed-length">substr() lvalues are no longer fixed-length</a></li><li><a href="#Parsing-of--f-_">Parsing of -f _</a></li><li><a href="#%3aunique">:unique</a></li><li><a href="#Effect-of-pragmas-in-eval">Effect of pragmas in eval</a></li><li><a href="#chdir-FOO">chdir FOO</a></li><li><a href="#Handling-of-.pmc-files">Handling of .pmc files</a></li><li><a href="#%24%5eV-is-now-a-version-object-instead-of-a-v-string">$^V is now a version object instead of a v-string</a></li><li><a href="#%40--and-%40%2b-in-patterns">@- and @+ in patterns</a></li><li><a href="#%24AUTOLOAD-can-now-be-tainted">$AUTOLOAD can now be tainted</a></li><li><a href="#Tainting-and-printf">Tainting and printf</a></li><li><a href="#undef-and-signal-handlers">undef and signal handlers</a></li><li><a href="#strictures-and-dereferencing-in-defined()">strictures and dereferencing in defined()</a></li><li><a href="#(%3fp%7b%7d)-has-been-removed">(?p{}) has been removed</a></li><li><a href="#Pseudo-hashes-have-been-removed">Pseudo-hashes have been removed</a></li><li><a href="#Removal-of-the-bytecode-compiler-and-of-perlcc">Removal of the bytecode compiler and of perlcc</a></li><li><a href="#Removal-of-the-JPL">Removal of the JPL</a></li><li><a href="#Recursive-inheritance-detected-earlier">Recursive inheritance detected earlier</a></li><li><a href="#warnings%3a%3aenabled-and-warnings%3a%3awarnif-changed-to-favor-users-of-modules">warnings::enabled and warnings::warnif changed to favor users of modules</a></li></ul><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a></li><ul><li><a href="#Upgrading-individual-core-modules">Upgrading individual core modules</a></li><li><a href="#Pragmata-Changes">Pragmata Changes</a></li><li><a href="#New-modules">New modules</a></li><li><a href="#Selected-Changes-to-Core-Modules">Selected Changes to Core Modules</a></li></ul><li><a href="#Utility-Changes">Utility Changes</a></li><li><a href="#New-Documentation">New Documentation</a></li><li><a href="#Performance-Enhancements">Performance Enhancements</a></li><ul><li><a href="#In-place-sorting">In-place sorting</a></li><li><a href="#Lexical-array-access">Lexical array access</a></li><li><a href="#XS-assisted-SWASHGET">XS-assisted SWASHGET</a></li><li><a href="#Constant-subroutines">Constant subroutines</a></li><li><a href="#PERL_DONT_CREATE_GVSV">PERL_DONT_CREATE_GVSV</a></li><li><a href="#Weak-references-are-cheaper">Weak references are cheaper</a></li><li><a href="#sort()-enhancements">sort() enhancements</a></li><li><a href="#Memory-optimisations">Memory optimisations</a></li><li><a href="#UTF-8-cache-optimisation">UTF-8 cache optimisation</a></li><li><a href="#Sloppy-stat-on-Windows">Sloppy stat on Windows</a></li><li><a href="#Regular-expressions-optimisations">Regular expressions optimisations</a></li></ul><li><a href="#Installation-and-Configuration-Improvements">Installation and Configuration Improvements</a></li><ul><li><a href="#Configuration-improvements">Configuration improvements</a></li><li><a href="#Compilation-improvements">Compilation improvements</a></li><li><a href="#Installation-improvements">Installation improvements</a></li><li><a href="#New-Or-Improved-Platforms">New Or Improved Platforms</a></li></ul><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a></li><li><a href="#New-or-Changed-Diagnostics">New or Changed Diagnostics</a></li><li><a href="#Changed-Internals">Changed Internals</a></li><ul><li><a href="#Reordering-of-SVt_*-constants">Reordering of SVt_* constants</a></li><li><a href="#Elimination-of-SVt_PVBM">Elimination of SVt_PVBM</a></li><li><a href="#New-type-SVt_BIND">New type SVt_BIND</a></li><li><a href="#Removal-of-CPP-symbols">Removal of CPP symbols</a></li><li><a href="#Less-space-is-used-by-ops">Less space is used by ops</a></li><li><a href="#New-parser">New parser</a></li><li><a href="#Use-of-const">Use of const</a></li><li><a href="#Mathoms">Mathoms</a></li><li><a href="#AvFLAGS-has-been-removed">AvFLAGS has been removed</a></li><li><a href="#av_*-changes">av_* changes</a></li><li><a href="#%24%5eH-and-%25%5eH">$^H and %^H</a></li><li><a href="#B%3a%3a-modules-inheritance-changed">B:: modules inheritance changed</a></li><li><a href="#Anonymous-hash-and-array-constructors">Anonymous hash and array constructors</a></li></ul><li><a href="#Known-Problems">Known Problems</a></li><ul><li><a href="#UTF-8-problems">UTF-8 problems</a></li></ul><li><a href="#Platform-Specific-Problems">Platform Specific Problems</a></li><li><a href="#Reporting-Bugs">Reporting Bugs</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.18.4/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.18.4/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.18.4/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
